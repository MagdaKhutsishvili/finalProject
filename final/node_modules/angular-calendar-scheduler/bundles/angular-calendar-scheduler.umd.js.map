{"version":3,"file":"angular-calendar-scheduler.umd.js.map","sources":["ng://angular-calendar-scheduler/modules/scheduler/scheduler-config.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-view.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-cell.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-header.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-event.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-event-title.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-event-content.component.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-scheduler-event-actions.component.ts",null,"ng://angular-calendar-scheduler/modules/scheduler/formatters/scheduler-event-title-formatter.provider.ts","ng://angular-calendar-scheduler/modules/scheduler/pipes/scheduler-event-title.pipe.ts","ng://angular-calendar-scheduler/modules/scheduler/formatters/scheduler-date-formatter.provider.ts","ng://angular-calendar-scheduler/modules/scheduler/calendar-utils.ts","ng://angular-calendar-scheduler/modules/scheduler/scheduler.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n/**\r\n * Auth configuration.\r\n */\r\n@Injectable()\r\nexport class SchedulerConfig {\r\n    locale?: string = 'en';\r\n    headerDateFormat?: 'weekNumber' | 'daysRange' = 'daysRange';\r\n\r\n    constructor(config: SchedulerConfig = {}) {\r\n        function use<T>(source: T, defaultValue: T): T {\r\n            return config && source !== undefined ? source : defaultValue;\r\n        }\r\n\r\n        this.locale = use(config.locale, this.locale);\r\n        this.headerDateFormat = use(config.headerDateFormat, this.headerDateFormat);\r\n    }\r\n}\r\n","import {\r\n    Component,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ChangeDetectorRef,\r\n    OnChanges,\r\n    OnInit,\r\n    OnDestroy,\r\n    LOCALE_ID,\r\n    Inject,\r\n    TemplateRef,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport {\r\n    EventColor,\r\n    DayViewHour,\r\n    DayViewHourSegment\r\n} from 'calendar-utils';\r\nimport {\r\n    startOfMinute,\r\n    startOfDay,\r\n    startOfWeek,\r\n    endOfDay,\r\n    endOfWeek,\r\n    addMinutes,\r\n    addHours,\r\n    addDays,\r\n    subSeconds,\r\n    setMinutes,\r\n    setHours,\r\n    setDate,\r\n    setMonth,\r\n    setYear,\r\n    isSameSecond,\r\n    isSameDay,\r\n    getDay\r\n} from 'date-fns';\r\nimport { SchedulerConfig } from './scheduler-config';\r\n\r\n\r\nconst WEEKEND_DAY_NUMBERS = [0, 6];\r\nconst DAYS_IN_WEEK = 7;\r\nconst HOURS_IN_DAY = 24;\r\nconst MINUTES_IN_HOUR = 60;\r\nconst SECONDS_IN_DAY = 60 * 60 * 24;\r\n\r\nexport interface SchedulerView {\r\n    days: SchedulerViewDay[];\r\n}\r\n\r\nexport interface SchedulerViewDay {\r\n    date: Date;\r\n    isPast: boolean;\r\n    isToday: boolean;\r\n    isFuture: boolean;\r\n    isWeekend: boolean;\r\n    inMonth: boolean;\r\n    dragOver: boolean;\r\n    backgroundColor?: string;\r\n    cssClass?: string;\r\n    hours: SchedulerViewHour[];\r\n}\r\n\r\nexport interface SchedulerViewHour {\r\n    hour: DayViewHour;\r\n    date: Date;\r\n    segments: SchedulerViewHourSegment[];\r\n    isPast: boolean;\r\n    isFuture: boolean;\r\n    hasBorder: boolean;\r\n    backgroundColor?: string;\r\n    cssClass?: string;\r\n}\r\n\r\nexport interface SchedulerViewHourSegment {\r\n    segment: DayViewHourSegment;\r\n    date: Date;\r\n    events: CalendarSchedulerEvent[];\r\n    isPast: boolean;\r\n    isFuture: boolean;\r\n    isDisabled: boolean;\r\n    hasBorder: boolean;\r\n    backgroundColor?: string;\r\n    cssClass?: string;\r\n}\r\n\r\nexport interface CalendarSchedulerEvent {\r\n    id: string;\r\n    start: Date;\r\n    end?: Date;\r\n    title: string;\r\n    content?: string;\r\n    color: EventColor;\r\n    actions?: CalendarSchedulerEventAction[];\r\n    status?: CalendarSchedulerEventStatus;\r\n    cssClass?: string;\r\n    startsBeforeSegment?: boolean;\r\n    endsAfterSegment?: boolean;\r\n    isHovered?: boolean;\r\n    isDisabled?: boolean;\r\n    isClickable?: boolean;\r\n}\r\n\r\nexport type CalendarSchedulerEventStatus = 'ok' | 'warning' | 'danger';\r\n\r\nexport interface CalendarSchedulerEventAction {\r\n    when?: 'enabled' | 'disabled';\r\n    label: string;\r\n    title: string;\r\n    cssClass?: string;\r\n    onClick(event: CalendarSchedulerEvent): void;\r\n}\r\n\r\n // https://css-tricks.com/snippets/css/a-guide-to-flexbox/\r\n@Component({\r\n    selector: 'calendar-scheduler-view',\r\n    template: `\r\n        <div class=\"cal-scheduler-view\" #weekViewContainer>\r\n            <calendar-scheduler-header\r\n                [days]=\"headerDays\"\r\n                [locale]=\"locale\"\r\n                [customTemplate]=\"headerTemplate\"\r\n                (dayClicked)=\"dayClicked.emit($event)\">\r\n            </calendar-scheduler-header>\r\n\r\n            <div class=\"cal-scheduler\">\r\n                <div class=\"cal-scheduler-hour-rows aside\">\r\n                    <div class=\"cal-scheduler-hour align-center horizontal\" *ngFor=\"let hour of hours\">\r\n                      <div class=\"cal-scheduler-time\">\r\n                        <div class=\"cal-scheduler-hour-segment\" *ngFor=\"let segment of hour.segments\">\r\n                            {{ segment.date | calendarDate:'dayViewHour':locale }}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"cal-scheduler-cols aside\">\r\n                    <div class=\"cal-scheduler-col\" *ngFor=\"let day of view.days\">\r\n                        <calendar-scheduler-cell\r\n                            *ngFor=\"let hour of day.hours\"\r\n                            [ngClass]=\"day?.cssClass\"\r\n                            [day]=\"day\"\r\n                            [hour]=\"hour\"\r\n                            [locale]=\"locale\"\r\n                            [tooltipPlacement]=\"tooltipPlacement\"\r\n                            [showActions]=\"showActions\"\r\n                            [customTemplate]=\"cellTemplate\"\r\n                            [eventTemplate]=\"eventTemplate\"\r\n                            (click)=\"dayClicked.emit({date: day})\"\r\n                            (highlightSegment)=\"toggleSegmentHighlight($event.event, true)\"\r\n                            (unhighlightSegment)=\"toggleSegmentHighlight($event.event, false)\"\r\n                            (segmentClicked)=\"segmentClicked.emit({segment: $event.segment})\"\r\n                            (eventClicked)=\"eventClicked.emit({event: $event.event})\">\r\n                        </calendar-scheduler-cell>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    styles: [`.cal-scheduler-view .cal-scheduler-headers{display:flex;flex-flow:row wrap;margin-bottom:3px;border:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .aside{flex:1 0}.cal-scheduler-view .cal-scheduler-headers .aside.cal-header-clock{max-width:5em}.cal-scheduler-view .cal-scheduler-headers .cal-header{flex:1;text-align:center;padding:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-scheduler-view .cal-scheduler-headers .cal-header:not(:last-child){border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .cal-header:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-weekend span{color:#8b0000}.cal-scheduler-view .cal-scheduler-headers .cal-header span{font-weight:400;opacity:.5}.cal-scheduler-view .cal-scheduler,.cal-scheduler-view .cal-scheduler-headers .cal-header-cols{display:flex;flex-flow:row wrap}.cal-scheduler-view .cal-scheduler .aside{flex:1 0}.cal-scheduler-view .cal-scheduler .aside.cal-scheduler-hour-rows{max-width:5em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows{width:auto!important;border:1px solid #e1e1e1;overflow:hidden;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour{display:flex;height:7.25em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:nth-child(odd){background-color:#fafafa}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:not(:last-child){border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time{display:flex;flex-flow:column wrap;width:100%;font-weight:700;text-align:center}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment{flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols{display:flex;flex-flow:row wrap;border-top:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col{display:flex;flex-flow:column wrap;flex:1 0;border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell{display:flex;flex-flow:column wrap;flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled .cal-scheduler-events{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments{display:flex;flex-flow:column wrap;flex:1 0;border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled .cal-scheduler-event{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(.has-events):hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event{flex:1 0;display:flex;flex-flow:row wrap;padding:0 10px;font-size:12px;margin:0 2px;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:all ease-out .2s;filter:brightness(100%);-webkit-filter:brightness(100%);-webkit-backface-visibility:hidden}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-starts-within-segment{border-top-left-radius:.3em;border-top-right-radius:.3em;margin-top:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-ends-within-segment{border-bottom-left-radius:.3em;border-bottom-right-radius:.3em;margin-bottom:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-disabled{background-color:gray!important;filter:grayscale(100%);-webkit-filter:grayscale(100%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-not-clickable{cursor:not-allowed!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled).hovered,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled):hover{cursor:pointer;filter:brightness(80%);-webkit-filter:brightness(80%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container{position:relative;width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-title{font-size:16px;font-weight:700}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status{position:absolute;top:25%;right:1%;width:16px;height:16px;background:grey;border-radius:50px;border:1px solid #000}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.ok{background:green}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.warning{background:orange}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.danger{background:red}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-content-container{width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container{flex:1 0;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions{position:absolute;bottom:5px;right:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions .cal-scheduler-event-action{text-decoration:none}`],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CalendarSchedulerViewComponent implements OnChanges, OnInit, OnDestroy {\r\n    /**\r\n     * The current view date\r\n     */\r\n    @Input() viewDate: Date;\r\n\r\n    /**\r\n     * An array of events to display on view\r\n     */\r\n    @Input() events: CalendarSchedulerEvent[] = [];\r\n\r\n    /**\r\n     * The number of segments in an hour. Must be <= 6\r\n     */\r\n    @Input() hourSegments: number = 2;\r\n\r\n    /**\r\n     * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view\r\n     */\r\n    @Input() excludeDays: number[] = [];\r\n\r\n    /**\r\n     * Specify if the first day of current scheduler view has to be today or the first day of the week\r\n     */\r\n    @Input() startsWithToday: boolean = false;\r\n\r\n    /**\r\n     * Specify if actions must be shown or not\r\n     */\r\n    @Input() showActions: boolean = true;\r\n\r\n    /**\r\n     * A function that will be called before each cell is rendered. The first argument will contain the calendar (day, hour or segment) cell.\r\n     * If you add the `cssClass` property to the cell it will add that class to the cell in the template\r\n     */\r\n    @Input() dayModifier: Function;\r\n    @Input() hourModifier: Function;\r\n    @Input() segmentModifier: Function;\r\n\r\n    /**\r\n     * An observable that when emitted on will re-render the current view\r\n     */\r\n    @Input() refresh: Subject<any>;\r\n\r\n    /**\r\n     * The locale used to format dates\r\n     */\r\n    @Input() locale: string;\r\n\r\n    /**\r\n     * The placement of the event tooltip\r\n     */\r\n    @Input() tooltipPlacement: string = 'bottom';\r\n\r\n    /**\r\n     * The start number of the week\r\n     */\r\n    @Input() weekStartsOn: number;\r\n\r\n    /**\r\n     * A custom template to use to replace the header\r\n     */\r\n    @Input() headerTemplate: TemplateRef<any>;\r\n\r\n    /**\r\n     * A custom template to use to replace the day cell\r\n     */\r\n    @Input() cellTemplate: TemplateRef<any>;\r\n\r\n    /**\r\n     * A custom template to use for week view events\r\n     */\r\n    @Input() eventTemplate: TemplateRef<any>;\r\n\r\n    /**\r\n     * The precision to display events.\r\n     * `days` will round event start and end dates to the nearest day and `minutes` will not do this rounding\r\n     */\r\n    @Input() precision: 'days' | 'minutes' = 'days';\r\n\r\n    /**\r\n     * The day start hours in 24 hour time. Must be 0-23\r\n     */\r\n    @Input() dayStartHour: number = 0;\r\n\r\n    /**\r\n     * The day start minutes. Must be 0-59\r\n     */\r\n    @Input() dayStartMinute: number = 0;\r\n\r\n    /**\r\n     * The day end hours in 24 hour time. Must be 0-23\r\n     */\r\n    @Input() dayEndHour: number = 23;\r\n\r\n    /**\r\n     * The day end minutes. Must be 0-59\r\n     */\r\n    @Input() dayEndMinute: number = 59;\r\n\r\n    /**\r\n     * Called when a header week day is clicked\r\n     */\r\n    @Output() dayClicked: EventEmitter<{ date: Date }> = new EventEmitter<{ date: Date }>();\r\n\r\n    /**\r\n     * Called when the segment is clicked\r\n     */\r\n    @Output() segmentClicked: EventEmitter<{ segment: SchedulerViewHourSegment }> = new EventEmitter<{ segment: SchedulerViewHourSegment }>();\r\n\r\n    /**\r\n     * Called when the event is clicked\r\n     */\r\n    @Output() eventClicked: EventEmitter<{ event: CalendarSchedulerEvent }> = new EventEmitter<{ event: CalendarSchedulerEvent }>();\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    days: SchedulerViewDay[];\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    headerDays: SchedulerViewDay[];\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    view: SchedulerView;\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    refreshSubscription: Subscription;\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    hours: DayViewHour[] = [];\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    constructor(private cdr: ChangeDetectorRef, @Inject(LOCALE_ID) locale: string, private config: SchedulerConfig) {\r\n        this.locale = config.locale || locale;\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    ngOnInit(): void {\r\n        if (this.refresh) {\r\n            this.refreshSubscription = this.refresh.subscribe(() => {\r\n                this.refreshAll();\r\n                this.cdr.markForCheck();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    ngOnChanges(changes: any): void {\r\n        this.hours = this.getSchedulerViewHourGrid({\r\n            viewDate: this.viewDate,\r\n            hourSegments: this.hourSegments,\r\n            dayStart: {\r\n                hour: this.dayStartHour,\r\n                minute: this.dayStartMinute\r\n            },\r\n            dayEnd: {\r\n                hour: this.dayEndHour,\r\n                minute: this.dayEndMinute\r\n            }\r\n        });\r\n\r\n        if (changes.viewDate || changes.excludeDays) {\r\n            this.refreshHeader();\r\n        }\r\n\r\n        if (changes.events || changes.viewDate || changes.excludeDays || changes.dayStartHour || changes.dayEndHour || changes.dayStartMinute || changes.dayEndMinute) {\r\n            this.refreshBody();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    ngOnDestroy(): void {\r\n        if (this.refreshSubscription) {\r\n            this.refreshSubscription.unsubscribe();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    toggleSegmentHighlight(event: CalendarSchedulerEvent, isHighlighted: boolean): void {\r\n        this.days.forEach((day: SchedulerViewDay) => {\r\n            day.hours.forEach((hour: SchedulerViewHour) => {\r\n                // hour.segments.forEach((segment: SchedulerViewHourSegment) => {\r\n                //    if (isHighlighted && segment.events.indexOf(event) > -1) {\r\n                //        segment.backgroundColor = event.color.secondary;\r\n                //    } else {\r\n                //        delete segment.backgroundColor;\r\n                //    }\r\n                // });\r\n                hour.segments.filter((segment: SchedulerViewHourSegment) => segment.events.some((ev: CalendarSchedulerEvent) => ev.id === event.id && ev.start.getDay() === event.start.getDay()))\r\n                    .forEach((segment: SchedulerViewHourSegment) => {\r\n                        segment.events.filter((ev: CalendarSchedulerEvent) => ev.id === event.id && ev.start.getDay() === event.start.getDay())\r\n                            .forEach((e: CalendarSchedulerEvent) => {\r\n                                if (isHighlighted) {\r\n                                    segment.backgroundColor = e.color.secondary;\r\n                                } else {\r\n                                    delete segment.backgroundColor;\r\n                                }\r\n                        });\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    private refreshHeader(): void {\r\n        this.headerDays = this.getSchedulerViewDays({\r\n            viewDate: this.viewDate,\r\n            weekStartsOn: this.weekStartsOn,\r\n            startsWithToday: this.startsWithToday,\r\n            excluded: this.excludeDays\r\n        });\r\n    }\r\n\r\n    private refreshBody(): void {\r\n        this.view = this.getSchedulerView({\r\n            events: this.events,\r\n            viewDate: this.viewDate,\r\n            weekStartsOn: this.weekStartsOn,\r\n            startsWithToday: this.startsWithToday,\r\n            excluded: this.excludeDays\r\n        });\r\n\r\n        if (this.dayModifier) {\r\n            this.days.forEach(day => this.dayModifier(day));\r\n        }\r\n\r\n        if (this.dayModifier || this.hourModifier || this.segmentModifier) {\r\n            this.view.days.forEach(day => {\r\n                if (this.dayModifier) {\r\n                    this.dayModifier(day);\r\n                }\r\n                day.hours.forEach((hour: SchedulerViewHour) => {\r\n                    if (this.hourModifier) {\r\n                        this.hourModifier(hour);\r\n                    }\r\n                    hour.segments.forEach((segment: SchedulerViewHourSegment) => {\r\n                        if (this.segmentModifier) {\r\n                            this.segmentModifier(segment);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    private refreshAll(): void {\r\n        this.refreshHeader();\r\n        this.refreshBody();\r\n    }\r\n\r\n\r\n    private getSchedulerView(args: GetSchedulerViewArgs): SchedulerView {\r\n        let events: CalendarSchedulerEvent[] = args.events || [];\r\n        const viewDate: Date = args.viewDate;\r\n        const weekStartsOn: number = args.weekStartsOn;\r\n        const startsWithToday: boolean = args.startsWithToday;\r\n        const excluded: number[] = args.excluded || [];\r\n        const precision: string = args.precision || 'days';\r\n\r\n        if (!events) {\r\n            events = [];\r\n        }\r\n\r\n        const startOfViewWeek: Date = startsWithToday ? startOfDay(viewDate) : startOfWeek(viewDate, { weekStartsOn: weekStartsOn });\r\n        const endOfViewWeek: Date = startsWithToday ? addDays(endOfDay(viewDate), 6) : endOfWeek(viewDate, { weekStartsOn: weekStartsOn });\r\n        // let maxRange: number = DAYS_IN_WEEK - excluded.length;\r\n        const eventsInWeek: CalendarSchedulerEvent[] = this.getEventsInPeriod({ events: events, periodStart: startOfViewWeek, periodEnd: endOfViewWeek });\r\n\r\n        this.days = this.getSchedulerViewDays({\r\n            viewDate: viewDate,\r\n            weekStartsOn: weekStartsOn,\r\n            startsWithToday: startsWithToday,\r\n            excluded: excluded\r\n        });\r\n        this.days.forEach((day: SchedulerViewDay, dayIndex: number) => {\r\n            const hours: SchedulerViewHour[] = [];\r\n            this.hours.forEach((hour: DayViewHour, hourIndex: number) => {\r\n                const segments: SchedulerViewHourSegment[] = [];\r\n                hour.segments.forEach((segment: DayViewHourSegment, segmentIndex: number) => {\r\n                    segment.date = setDate(setMonth(setYear(segment.date, day.date.getFullYear()), day.date.getMonth()), day.date.getDate());\r\n\r\n                    const startOfSegment: Date = segment.date;\r\n                    const endOfSegment: Date = addMinutes(segment.date, MINUTES_IN_HOUR / this.hourSegments);\r\n\r\n                    const evts: CalendarSchedulerEvent[] = this.getEventsInPeriod({\r\n                        events: eventsInWeek,\r\n                        periodStart: startOfSegment,\r\n                        periodEnd: endOfSegment\r\n                    }).map((event: CalendarSchedulerEvent) =>\r\n                        <CalendarSchedulerEvent>{\r\n                            id: event.id,\r\n                            start: event.start,\r\n                            end: event.end,\r\n                            title: event.title,\r\n                            content: event.content,\r\n                            color: event.color,\r\n                            actions: event.actions,\r\n                            status: event.status,\r\n                            cssClass: event.cssClass,\r\n                            startsBeforeSegment: event.start < startOfSegment,\r\n                            endsAfterSegment: event.end > endOfSegment,\r\n                            isHovered: false,\r\n                            isDisabled: event.isDisabled || false,\r\n                            isClickable: event.isClickable !== undefined && event.isClickable !== null ? event.isClickable : true\r\n                        });\r\n                    segments.push(<SchedulerViewHourSegment>{\r\n                        segment: segment,\r\n                        date: new Date(segment.date),\r\n                        events: evts,\r\n                        hasBorder: true\r\n                    });\r\n                });\r\n\r\n                const hourDate: Date = new Date(day.date.getFullYear(), day.date.getMonth(), day.date.getDate(), hour.segments[0].date.getHours());\r\n                hours.push(<SchedulerViewHour>{ hour: hour, date: hourDate, segments: segments, hasBorder: true });\r\n            });\r\n            day.hours = hours;\r\n        });\r\n\r\n        return <SchedulerView>{\r\n            days: this.days\r\n        };\r\n    }\r\n\r\n\r\n    private isEventInPeriod(args: { event: CalendarSchedulerEvent, periodStart: string | number | Date, periodEnd: string | number | Date }): boolean {\r\n        const event: CalendarSchedulerEvent = args.event, periodStart: string | number | Date = args.periodStart, periodEnd: string | number | Date = args.periodEnd;\r\n        const eventStart: Date = event.start;\r\n        const eventEnd: Date = event.end || event.start;\r\n\r\n        if (eventStart > periodStart && eventStart < periodEnd) {\r\n            return true;\r\n        }\r\n        if (eventEnd > periodStart && eventEnd < periodEnd) {\r\n            return true;\r\n        }\r\n        if (eventStart < periodStart && eventEnd > periodEnd) {\r\n            return true;\r\n        }\r\n        if (isSameSecond(eventStart, periodStart) || isSameSecond(eventStart, subSeconds(periodEnd, 1))) {\r\n            return true;\r\n        }\r\n        if (isSameSecond(subSeconds(eventEnd, 1), periodStart) || isSameSecond(eventEnd, periodEnd)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private getEventsInPeriod(args: { events: CalendarSchedulerEvent[], periodStart: string | number | Date, periodEnd: string | number | Date }): CalendarSchedulerEvent[] {\r\n        const events: CalendarSchedulerEvent[] = args.events, periodStart: string | number | Date = args.periodStart, periodEnd: string | number | Date = args.periodEnd;\r\n        return events.filter((event) => this.isEventInPeriod({ event: event, periodStart: periodStart, periodEnd: periodEnd }));\r\n    }\r\n\r\n    private getSchedulerViewDays(args: GetSchedulerViewArgs): SchedulerViewDay[] {\r\n        const viewDate: Date = args.viewDate;\r\n        const weekStartsOn: number = args.weekStartsOn;\r\n        const startsWithToday: boolean = args.startsWithToday;\r\n        const excluded: number[] = args.excluded || [];\r\n\r\n        const start = startsWithToday ? new Date(viewDate) : startOfWeek(viewDate, { weekStartsOn: weekStartsOn });\r\n        const days: SchedulerViewDay[] = [];\r\n        const loop = (i: number) => {\r\n            const date = addDays(start, i);\r\n            if (!excluded.some((e: number) => date.getDay() === e)) {\r\n                days.push(this.getSchedulerDay({ date: date }));\r\n            }\r\n        };\r\n        for (let i = 0; i < DAYS_IN_WEEK; i++) {\r\n            loop(i);\r\n        }\r\n        return days;\r\n    }\r\n\r\n    private getSchedulerDay(args: { date: Date }): SchedulerViewDay {\r\n        const date: Date = args.date;\r\n        const today: Date = startOfDay(new Date());\r\n\r\n        return <SchedulerViewDay>{\r\n            date: date,\r\n            isPast: date < today,\r\n            isToday: isSameDay(date, today),\r\n            isFuture: date > today,\r\n            isWeekend: WEEKEND_DAY_NUMBERS.indexOf(getDay(date)) > -1,\r\n            hours: []\r\n        };\r\n    }\r\n\r\n    private getSchedulerViewHourGrid(args: GetSchedulerViewHourGridArgs): DayViewHour[] {\r\n        const viewDate: Date = args.viewDate, hourSegments: number = args.hourSegments, dayStart: any = args.dayStart, dayEnd: any = args.dayEnd;\r\n        const hours: DayViewHour[] = [];\r\n\r\n        const startOfView: Date = setMinutes(setHours(startOfDay(viewDate), dayStart.hour), dayStart.minute);\r\n        const endOfView: Date = setMinutes(setHours(startOfMinute(endOfDay(viewDate)), dayEnd.hour), dayEnd.minute);\r\n        const segmentDuration: number = MINUTES_IN_HOUR / hourSegments;\r\n        const startOfViewDay: Date = startOfDay(viewDate);\r\n\r\n        const range = (start: number, end: number): number[] => Array.from({ length: ((end + 1) - start) }, (v, k) => k + start);\r\n        const hoursInView: number[] = range(dayStart.hour, dayEnd.hour);\r\n\r\n        // for (var i = 0; i < HOURS_IN_DAY; i++) {\r\n        hoursInView.forEach((hour: number, i: number) => {\r\n            const segments = [];\r\n            for (let j = 0; j < hourSegments; j++) {\r\n                const date = addMinutes(addHours(startOfViewDay, hour), j * segmentDuration);\r\n                if (date >= startOfView && date < endOfView) {\r\n                    segments.push({\r\n                        date: date,\r\n                        isStart: j === 0\r\n                    });\r\n                }\r\n            }\r\n            if (segments.length > 0) {\r\n                hours.push(<DayViewHour>{ segments: segments });\r\n            }\r\n        });\r\n        return hours;\r\n    }\r\n}\r\n\r\nexport interface GetSchedulerViewArgs {\r\n    events?: CalendarSchedulerEvent[];\r\n    viewDate: Date;\r\n    weekStartsOn: number;\r\n    startsWithToday: boolean;\r\n    excluded?: number[];\r\n    precision?: 'minutes' | 'days';\r\n}\r\n\r\nexport interface GetSchedulerViewHourGridArgs {\r\n    viewDate: Date;\r\n    hourSegments: number;\r\n    dayStart: any;\r\n    dayEnd: any;\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef, HostBinding } from '@angular/core';\r\nimport {\r\n    SchedulerViewDay,\r\n    SchedulerViewHour,\r\n    SchedulerViewHourSegment,\r\n    CalendarSchedulerEvent\r\n} from './calendar-scheduler-view.component';\r\n\r\n// WORKAROUND: https://github.com/dherges/ng-packagr/issues/217#issuecomment-339460255\r\nimport * as momentImported from 'moment';\r\nconst moment = momentImported;\r\n\r\n@Component({ // [class.no-border]': '!day.hasBorder\r\n    selector: 'calendar-scheduler-cell',\r\n    template: `\r\n        <ng-template #defaultTemplate>\r\n            <div class=\"cal-scheduler-segments\" *ngIf=\"hour.segments.length > 0\"\r\n                [ngClass]=\"hour?.cssClass\"\r\n                [class.no-border]=\"!hour.hasBorder\">\r\n                <div class=\"cal-scheduler-segment\"\r\n                    *ngFor=\"let segment of hour.segments; let si = index\"\r\n                    [title]=\"title\"\r\n                    [ngClass]=\"segment?.cssClass\"\r\n                    [class.has-events]=\"segment.events.length > 0\"\r\n                    [class.cal-disabled]=\"segment.isDisabled\"\r\n                    [style.backgroundColor]=\"segment.backgroundColor\"\r\n                    [class.no-border]=\"!segment.hasBorder\"\r\n                    (mwlClick)=\"onSegmentClick($event, segment)\">\r\n\r\n                    <div class=\"cal-scheduler-events\" *ngIf=\"segment.events.length > 0\">\r\n                        <calendar-scheduler-event\r\n                            *ngFor=\"let event of segment.events\"\r\n                            [day]=\"day\"\r\n                            [hour]=\"hour\"\r\n                            [segment]=\"segment\"\r\n                            [event]=\"event\"\r\n                            (mouseenter)=\"onMouseEnter($event, segment, event)\"\r\n                            (mouseleave)=\"onMouseLeave($event, segment, event)\"\r\n                            [tooltipPlacement]=\"tooltipPlacement\"\r\n                            [showActions]=\"showActions\"\r\n                            [customTemplate]=\"eventTemplate\"\r\n                            (eventClicked)=\"onEventClick($event, event)\">\r\n                        </calendar-scheduler-event>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\r\n            [ngTemplateOutletContext]=\"{\r\n                day: day,\r\n                hour: hour,\r\n                locale: locale,\r\n                tooltipPlacement: tooltipPlacement,\r\n                showActions: showActions,\r\n                eventTemplate: eventTemplate,\r\n                highlightSegment: highlightSegment,\r\n                unhighlightSegment: unhighlightSegment,\r\n                segmentClicked: segmentClicked,\r\n                eventClicked: eventClicked\r\n            }\">\r\n        </ng-template>\r\n    `,\r\n    host: {\r\n        'class': 'cal-scheduler-cell',\r\n        '[class.cal-past]': 'day.isPast',\r\n        '[class.cal-today]': 'day.isToday',\r\n        '[class.cal-future]': 'day.isFuture',\r\n        '[class.cal-weekend]': 'day.isWeekend',\r\n        '[class.cal-in-month]': 'day.inMonth',\r\n        '[class.cal-out-month]': '!day.inMonth',\r\n        '[style.backgroundColor]': 'day.backgroundColor'\r\n    }\r\n})\r\nexport class CalendarSchedulerCellComponent implements OnInit {\r\n\r\n    @Input() title: string;\r\n\r\n    @Input() day: SchedulerViewDay;\r\n\r\n    @Input() hour: SchedulerViewHour;\r\n\r\n    @Input() locale: string;\r\n\r\n    @Input() tooltipPlacement: string;\r\n\r\n    @Input() showActions: boolean = true;\r\n\r\n    @Input() customTemplate: TemplateRef<any>;\r\n\r\n    @Input() eventTemplate: TemplateRef<any>;\r\n\r\n    @Output() highlightSegment: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() unhighlightSegment: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() segmentClicked: EventEmitter<{ segment: SchedulerViewHourSegment }> = new EventEmitter<{ segment: SchedulerViewHourSegment }>();\r\n\r\n    @Output() eventClicked: EventEmitter<{ event: CalendarSchedulerEvent }> = new EventEmitter<{ event: CalendarSchedulerEvent }>();\r\n\r\n\r\n    ngOnInit(): void {\r\n        this.title = moment(this.day.date).format('dddd L');\r\n    }\r\n\r\n    onMouseEnter(mouseEvent: MouseEvent, segment: SchedulerViewHourSegment, event: CalendarSchedulerEvent): void {\r\n        if (!event.isDisabled && !segment.isDisabled) {\r\n            this.highlightSegment.emit({ event: event });\r\n        }\r\n    }\r\n\r\n    onMouseLeave(mouseEvent: MouseEvent, segment: SchedulerViewHourSegment, event: CalendarSchedulerEvent): void {\r\n        if (!event.isDisabled && !segment.isDisabled) {\r\n            this.unhighlightSegment.emit({ event: event });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    onSegmentClick(mouseEvent: MouseEvent, segment: SchedulerViewHourSegment): void {\r\n        if (mouseEvent.stopPropagation) {\r\n            mouseEvent.stopPropagation();\r\n        }\r\n\r\n        if (segment.events.length === 0) {\r\n            this.segmentClicked.emit({ segment: segment });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    onEventClick(mouseEvent: MouseEvent, event: CalendarSchedulerEvent): void {\r\n        if (mouseEvent.stopPropagation) {\r\n            mouseEvent.stopPropagation();\r\n        }\r\n        if (event.isClickable) {\r\n            this.eventClicked.emit({ event: event });\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, Output, EventEmitter, TemplateRef } from '@angular/core';\r\nimport { SchedulerViewDay } from './calendar-scheduler-view.component';\r\n\r\n@Component({\r\n    selector: 'calendar-scheduler-header',\r\n    template: `\r\n        <ng-template #defaultTemplate>\r\n            <div class=\"cal-scheduler-headers\">\r\n                <div class=\"cal-header aside cal-header-clock align-center\">\r\n                    <i class=\"material-icons md-32\" style=\"margin:auto;\">schedule</i>\r\n                </div>\r\n\r\n                <div class=\"cal-header-cols aside\">\r\n                    <div\r\n                        class=\"cal-header\"\r\n                        *ngFor=\"let day of days\"\r\n                        [class.cal-past]=\"day.isPast\"\r\n                        [class.cal-today]=\"day.isToday\"\r\n                        [class.cal-future]=\"day.isFuture\"\r\n                        [class.cal-weekend]=\"day.isWeekend\"\r\n                        [class.cal-drag-over]=\"day.dragOver\"\r\n                        (mwlClick)=\"dayClicked.emit({date: day.date})\">\r\n                        <b>{{ day.date | calendarDate:'weekViewColumnHeader':locale }}</b><br>\r\n                        <span>{{ day.date | calendarDate:'weekViewColumnSubHeader':locale }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\r\n            [ngTemplateOutletContext]=\"{days: days, locale: locale, dayClicked: dayClicked}\">\r\n        </ng-template>\r\n    `\r\n})\r\nexport class CalendarSchedulerHeaderComponent {\r\n\r\n    @Input() days: SchedulerViewDay[];\r\n\r\n    @Input() locale: string;\r\n\r\n    @Input() customTemplate: TemplateRef<any>;\r\n\r\n    @Output() dayClicked: EventEmitter<{ date: Date }> = new EventEmitter<{ date: Date }>();\r\n}\r\n","import { Component, Input, Output, EventEmitter, TemplateRef, OnInit, Renderer2 } from '@angular/core';\r\nimport {\r\n    SchedulerViewDay,\r\n    SchedulerViewHour,\r\n    SchedulerViewHourSegment,\r\n    CalendarSchedulerEvent\r\n} from './calendar-scheduler-view.component';\r\nimport {\r\n    isSameDay\r\n} from 'date-fns';\r\n\r\n// WORKAROUND: https://github.com/dherges/ng-packagr/issues/217#issuecomment-339460255\r\nimport * as momentImported from 'moment';\r\nconst moment = momentImported;\r\n\r\n/**\r\n * [mwlCalendarTooltip]=\"event.title | calendarEventTitle:'weekTooltip':event\"\r\n * [tooltipPlacement]=\"tooltipPlacement\"\r\n */\r\n@Component({\r\n    selector: 'calendar-scheduler-event',\r\n    template: `\r\n        <ng-template #defaultTemplate>\r\n            <div\r\n                class=\"cal-scheduler-event\"\r\n                [title]=\"title\"\r\n                [class.cal-starts-within-segment]=\"!event.startsBeforeSegment\"\r\n                [class.cal-ends-within-segment]=\"!event.endsAfterSegment\"\r\n                [class.hovered]=\"event.isHovered\"\r\n                [class.cal-disabled]=\"event.isDisabled || segment.isDisabled\"\r\n                [class.cal-not-clickable]=\"!event.isClickable\"\r\n                [style.backgroundColor]=\"event.color.primary\"\r\n                [ngClass]=\"event?.cssClass\"\r\n                (mwlClick)=\"eventClicked.emit({event: event})\"\r\n                (mouseenter)=\"highlightEvent()\"\r\n                (mouseleave)=\"unhighlightEvent()\">\r\n                <calendar-scheduler-event-title *ngIf=\"!event.startsBeforeSegment\"\r\n                    [event]=\"event\"\r\n                    view=\"week\">\r\n                </calendar-scheduler-event-title>\r\n                <calendar-scheduler-event-content *ngIf=\"!event.startsBeforeSegment\"\r\n                    [event]=\"event\">\r\n                </calendar-scheduler-event-content>\r\n                <calendar-scheduler-event-actions [event]=\"event\" *ngIf=\"showActions && event.isClickable && !event.endsAfterSegment\"></calendar-scheduler-event-actions>\r\n                <calendar-scheduler-event-actions [event]=\"event\" *ngIf=\"showActions && event.isDisabled && !event.endsAfterSegment\"></calendar-scheduler-event-actions>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template\r\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\r\n            [ngTemplateOutletContext]=\"{\r\n                day: day,\r\n                hour: hour,\r\n                segment: segment,\r\n                event: event,\r\n                tooltipPlacement: tooltipPlacement,\r\n                showActions: showActions,\r\n                customTemplate: customTemplate,\r\n                eventClicked: eventClicked\r\n            }\">\r\n        </ng-template>\r\n    `,\r\n    host: {\r\n        'class': 'cal-scheduler-event-container'\r\n    }\r\n})\r\nexport class CalendarSchedulerEventComponent implements OnInit {\r\n\r\n    @Input() title: string;\r\n\r\n    @Input() day: SchedulerViewDay;\r\n\r\n    @Input() hour: SchedulerViewHour;\r\n\r\n    @Input() segment: SchedulerViewHourSegment;\r\n\r\n    @Input() event: CalendarSchedulerEvent;\r\n\r\n    @Input() tooltipPlacement: string;\r\n\r\n    @Input() showActions: boolean = true;\r\n\r\n    @Input() customTemplate: TemplateRef<any>;\r\n\r\n    @Output() eventClicked: EventEmitter<{ event: CalendarSchedulerEvent }> = new EventEmitter<{ event: CalendarSchedulerEvent }>();\r\n\r\n    constructor(private renderer: Renderer2) {   }\r\n\r\n    public ngOnInit(): void {\r\n        this.segment.hasBorder = this.hour.hasBorder = !this.event.endsAfterSegment;\r\n\r\n        this.title = moment(this.event.start).format('dddd L');\r\n\r\n        this.checkEnableState();\r\n    }\r\n\r\n    private checkEnableState(): void {\r\n        if (this.segment.isDisabled) {\r\n            this.day.hours.forEach((hour: SchedulerViewHour) => {\r\n                hour.segments.forEach((segment: SchedulerViewHourSegment) => {\r\n                    segment.events.filter((event: CalendarSchedulerEvent) => event.id === this.event.id && isSameDay(event.start, this.event.start))\r\n                        .forEach((event: CalendarSchedulerEvent) => {\r\n                            event.isDisabled = true;\r\n                        });\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    highlightEvent(): void {\r\n        // let events: CalendarSchedulerEvent[] = this.day.hours\r\n        //    .filter(h => h.segments.some(s => s.events.some(e => e.id === this.event.id)))\r\n        //    .map(h =>\r\n        //        h.segments.map(s =>\r\n        //            s.events.filter(e => e.id === this.event.id)\r\n        //        ).reduce((prev, curr) => prev.concat(curr))\r\n        //    )\r\n        //    .reduce((prev, curr) => prev.concat(curr));\r\n\r\n        this.day.hours.forEach((hour: SchedulerViewHour) => {\r\n            hour.segments.forEach((segment: SchedulerViewHourSegment) => {\r\n                segment.events.filter((event: CalendarSchedulerEvent) => event.id === this.event.id && isSameDay(event.start, this.event.start))\r\n                    .forEach((event: CalendarSchedulerEvent) => {\r\n                        event.isHovered = true;\r\n                    });\r\n            });\r\n        });\r\n    }\r\n\r\n    unhighlightEvent(): void {\r\n        this.day.hours.forEach((hour: SchedulerViewHour) => {\r\n            hour.segments.forEach((segment: SchedulerViewHourSegment) => {\r\n                segment.events.filter((event: CalendarSchedulerEvent) => event.id === this.event.id && isSameDay(event.start, this.event.start))\r\n                    .forEach((event: CalendarSchedulerEvent) => {\r\n                        event.isHovered = false;\r\n                    });\r\n            });\r\n        });\r\n    }\r\n\r\n    // private sameEventInPreviousHour(day: SchedulerViewDay, hour: SchedulerViewHour): CalendarSchedulerEvent {\r\n    //    let hourIndex: number = day.hours.indexOf(hour);\r\n    //    let previousHour = day.hours[hourIndex - 1];\r\n    //    if (previousHour) {\r\n    //        let previousSegment: SchedulerViewHourSegment = previousHour.segments[previousHour.segments.length - 1];\r\n    //        return previousSegment.events[previousSegment.events.length - 1];\r\n    //    }\r\n    //    return null;\r\n    // }\r\n\r\n    // private sameEventInPreviousSegment(segmentIndex: number): CalendarSchedulerEvent {\r\n    //    let previousSegment: SchedulerViewHourSegment = this.hour.segments[segmentIndex - 1];\r\n    //    if (previousSegment) {\r\n    //        return previousSegment.events[previousSegment.events.length - 1];\r\n    //    }\r\n    //    return null;\r\n    // }\r\n\r\n    // private sameEventInNextHour(): CalendarSchedulerEvent {\r\n    //    let hourIndex: number = this.day.hours.indexOf(this.hour);\r\n    //    let nextHour: SchedulerViewHour = this.day.hours[hourIndex + 1];\r\n    //    if (nextHour) {\r\n    //        let nextSegment: SchedulerViewHourSegment = nextHour.segments[0];\r\n    //        return nextSegment.events[0];\r\n    //    }\r\n    //    return null;\r\n    // }\r\n\r\n    // private sameEventInNextSegment(segmentIndex: number): CalendarSchedulerEvent {\r\n    //    let nextSegment: SchedulerViewHourSegment = this.hour.segments[segmentIndex + 1];\r\n    //    if (nextSegment) {\r\n    //        return nextSegment.events[0];\r\n    //    }\r\n    //    return null;\r\n    // }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport {\r\n    CalendarSchedulerEvent\r\n} from './calendar-scheduler-view.component';\r\n\r\n@Component({\r\n    selector: 'calendar-scheduler-event-title',\r\n    template: `\r\n        <div\r\n            class=\"cal-scheduler-event-title\"\r\n            [innerHTML]=\"event.title | schedulerEventTitle:view:event\">\r\n        </div>\r\n        <div *ngIf=\"event.status\"\r\n            class=\"cal-scheduler-event-status\"\r\n            [class.ok]=\"event.status === 'ok'\"\r\n            [class.warning]=\"event.status === 'warning'\"\r\n            [class.danger]=\"event.status === 'danger'\">\r\n        </div>\r\n    `,\r\n    host: {\r\n        'class': 'cal-scheduler-event-title-container'\r\n    }\r\n})\r\nexport class CalendarSchedulerEventTitleComponent {\r\n\r\n    @Input() event: CalendarSchedulerEvent;\r\n\r\n    @Input() view: string;\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport {\r\n    CalendarSchedulerEvent\r\n} from './calendar-scheduler-view.component';\r\n\r\n@Component({\r\n    selector: 'calendar-scheduler-event-content',\r\n    template: `\r\n        <div *ngIf=\"event.content\"\r\n            class=\"cal-scheduler-event-content\"\r\n            [innerHTML]=\"event.content\">\r\n        </div>\r\n    `,\r\n    host: {\r\n        'class': 'cal-scheduler-event-content-container'\r\n    }\r\n})\r\nexport class CalendarSchedulerEventContentComponent {\r\n\r\n    @Input() event: CalendarSchedulerEvent;\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport {\r\n    CalendarSchedulerEvent,\r\n    CalendarSchedulerEventAction\r\n} from './calendar-scheduler-view.component';\r\n\r\n@Component({\r\n    selector: 'calendar-scheduler-event-actions',\r\n    template: `\r\n        <span *ngIf=\"event.actions\" class=\"cal-scheduler-event-actions\">\r\n            <a\r\n                class=\"cal-scheduler-event-action\"\r\n                href=\"javascript:;\"\r\n                *ngFor=\"let action of actions\"\r\n                (mwlClick)=\"onActionClick($event, action, event)\"\r\n                [ngClass]=\"action.cssClass\"\r\n                [innerHtml]=\"action.label\"\r\n                [title]=\"action.title\">\r\n            </a>\r\n        </span>\r\n    `,\r\n    host: {\r\n        'class': 'cal-scheduler-event-actions-container'\r\n    }\r\n})\r\nexport class CalendarSchedulerEventActionsComponent implements OnInit {\r\n\r\n    @Input() event: CalendarSchedulerEvent;\r\n\r\n    public actions: CalendarSchedulerEventAction[] = [];\r\n\r\n    public ngOnInit(): void {\r\n        this.actions = this.event.isDisabled ?\r\n            this.event.actions.filter((a: CalendarSchedulerEventAction) => !a.when || a.when === 'disabled') :\r\n            this.event.actions.filter((a: CalendarSchedulerEventAction) => !a.when || a.when === 'enabled');\r\n    }\r\n\r\n    /**\r\n     * @hidden\r\n     */\r\n    onActionClick(mouseEvent: MouseEvent, action: CalendarSchedulerEventAction, event: CalendarSchedulerEvent): void {\r\n        if (mouseEvent.stopPropagation) {\r\n            mouseEvent.stopPropagation();\r\n        }\r\n\r\n        action.onClick(event);\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { CalendarEventTitleFormatter } from 'angular-calendar';\r\n\r\nexport class SchedulerEventTitleFormatter extends CalendarEventTitleFormatter {\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { CalendarSchedulerEvent } from '../calendar-scheduler-view.component';\r\nimport { SchedulerEventTitleFormatter } from '../formatters/scheduler-event-title-formatter.provider';\r\n\r\n@Pipe({\r\n  name: 'schedulerEventTitle'\r\n})\r\nexport class SchedulerEventTitlePipe implements PipeTransform {\r\n  constructor(private schedulerEventTitle: SchedulerEventTitleFormatter) {}\r\n\r\n  transform(title: string, titleType: string, event: CalendarSchedulerEvent): string {\r\n    return this.schedulerEventTitle[titleType](event);\r\n  }\r\n}\r\n","import { CalendarDateFormatter, DateFormatterParams } from 'angular-calendar';\r\n\r\nexport class SchedulerDateFormatter extends CalendarDateFormatter {\r\n\r\n    /**\r\n     * The time formatting down the left hand side of the day view\r\n     */\r\n    public dayViewHour({ date, locale }: DateFormatterParams): string {\r\n        return new Intl.DateTimeFormat(locale, { hour: 'numeric', minute: 'numeric' }).format(date);\r\n    }\r\n\r\n    public weekViewTitle({ date, locale }: DateFormatterParams): string {\r\n        // http://generatedcontent.org/post/59403168016/esintlapi\r\n        const year: string = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(date);\r\n        const month: string = new Intl.DateTimeFormat(locale, { month: 'short' }).format(date);\r\n\r\n        // var firstDay: number = date.getDate() - date.getDay() + 1; // First day is the day of the month - the day of the week\r\n        let firstDay: number = date.getDate();\r\n        if (date.getDay() === 0) {\r\n            firstDay += 1;\r\n        }\r\n\r\n        let lastDay: number = firstDay + 6; // last day is the first day + 6\r\n\r\n        let firstDayMonth: string = month;\r\n        let lastDayMonth: string = month;\r\n\r\n        let firstDayYear: string = year;\r\n        let lastDayYear: string = year;\r\n\r\n        if (firstDay < 1) {\r\n            const prevMonthDate: Date = new Date(date.getFullYear(), date.getMonth() - 1);\r\n            firstDayMonth = new Intl.DateTimeFormat(locale, { month: 'short' }).format(prevMonthDate);\r\n            const daysInPrevMonth: number = this.daysInMonth(prevMonthDate);\r\n\r\n            let i: number = 0;\r\n            let prevMonthDay: number = daysInPrevMonth;\r\n            for (i = 0; i < Math.abs(firstDay); i++) {\r\n                prevMonthDay--;\r\n            }\r\n            firstDay = prevMonthDay;\r\n\r\n            const prevMonthYear: string = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(prevMonthDate);\r\n            if (Number(prevMonthYear) < Number(year)) {\r\n                firstDayYear = prevMonthYear;\r\n            }\r\n        }\r\n\r\n        const daysInMonth: number = this.daysInMonth(date);\r\n        if (lastDay > daysInMonth) {\r\n            const nextMonthDate: Date = new Date(date.getFullYear(), date.getMonth() + 1);\r\n            lastDayMonth = new Intl.DateTimeFormat(locale, { month: 'short' }).format(nextMonthDate);\r\n\r\n            let i: number = 0;\r\n            let nextMonthDay: number = 0;\r\n            for (i = 0; i < (lastDay - daysInMonth); i++) {\r\n                nextMonthDay++;\r\n            }\r\n            lastDay = nextMonthDay;\r\n\r\n            const nextMonthYear: string = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(nextMonthDate);\r\n            if (Number(nextMonthYear) > Number(year)) {\r\n                lastDayYear = nextMonthYear;\r\n            }\r\n        }\r\n\r\n        return `${firstDay}` + (firstDayMonth !== lastDayMonth ? ' ' + firstDayMonth : '') +\r\n            (firstDayYear !== lastDayYear ? ' ' + firstDayYear : '') +\r\n            ` - ${lastDay} ${lastDayMonth} ${lastDayYear}`;\r\n    }\r\n\r\n    private daysInMonth(anyDateInMonth: Date): number {\r\n        return new Date(anyDateInMonth.getFullYear(), anyDateInMonth.getMonth() + 1, 0).getDate();\r\n    }\r\n}\r\n","import {\r\n    startOfDay,\r\n    startOfWeek,\r\n    startOfMonth,\r\n    endOfDay,\r\n    endOfWeek,\r\n    endOfMonth,\r\n    addDays,\r\n    addWeeks,\r\n    addMonths,\r\n    subDays,\r\n    subWeeks,\r\n    subMonths\r\n} from 'date-fns';\r\n\r\nexport type CalendarPeriod = 'day' | 'week' | 'month';\r\n\r\nexport function addPeriod(period: CalendarPeriod, date: Date, amount: number): Date {\r\n    return {\r\n        day: addDays,\r\n        week: addWeeks,\r\n        month: addMonths\r\n    }[period](date, amount);\r\n}\r\n\r\nexport function subPeriod(period: CalendarPeriod, date: Date, amount: number): Date {\r\n    return {\r\n        day: subDays,\r\n        week: subWeeks,\r\n        month: subMonths\r\n    }[period](date, amount);\r\n}\r\n\r\nexport function startOfPeriod(period: CalendarPeriod, date: Date): Date {\r\n    return {\r\n        day: startOfDay,\r\n        week: startOfWeek,\r\n        month: startOfMonth\r\n    }[period](date);\r\n}\r\n\r\nexport function endOfPeriod(period: CalendarPeriod, date: Date): Date {\r\n    return {\r\n        day: endOfDay,\r\n        week: endOfWeek,\r\n        month: endOfMonth\r\n    }[period](date);\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CalendarModule } from 'angular-calendar';\r\nimport { CalendarSchedulerViewComponent } from './calendar-scheduler-view.component';\r\nimport { CalendarSchedulerCellComponent } from './calendar-scheduler-cell.component';\r\nimport { CalendarSchedulerHeaderComponent } from './calendar-scheduler-header.component';\r\nimport { CalendarSchedulerEventComponent } from './calendar-scheduler-event.component';\r\nimport { CalendarSchedulerEventTitleComponent } from './calendar-scheduler-event-title.component';\r\nimport { CalendarSchedulerEventContentComponent } from './calendar-scheduler-event-content.component';\r\nimport { CalendarSchedulerEventActionsComponent } from './calendar-scheduler-event-actions.component';\r\n\r\nimport { SchedulerEventTitlePipe } from './pipes/scheduler-event-title.pipe';\r\nimport { SchedulerDateFormatter } from './formatters/scheduler-date-formatter.provider';\r\nimport { SchedulerEventTitleFormatter } from './formatters/scheduler-event-title-formatter.provider';\r\n\r\nexport * from './calendar-scheduler-view.component';\r\nexport * from './formatters/scheduler-date-formatter.provider';\r\nexport * from './formatters/scheduler-event-title-formatter.provider';\r\nexport * from './pipes/scheduler-event-title.pipe';\r\nexport * from './calendar-utils';\r\n\r\nimport { SchedulerConfig } from './scheduler-config';\r\n\r\nexport const SCHEDULER_CONFIG = new InjectionToken('SchedulerConfig');\r\n\r\nexport function provideAuthConfig(config: SchedulerConfig) {\r\n    return new SchedulerConfig(config);\r\n}\r\n\r\n/**\r\n * The main module of this library. Example usage:\r\n *\r\n * ```typescript\r\n * import { CalenderModule } from 'angular-calendar';\r\n * import { SchedulerModule } from 'angular-calendar-scheduler';\r\n *\r\n * @NgModule({\r\n *   imports: [\r\n *     CalenderModule.forRoot(),\r\n *     SchedulerModule.forRoot({ locale: 'en', headerDateFormat: 'daysRange' })\r\n *   ]\r\n * })\r\n * class MyModule {}\r\n * ```\r\n *\r\n */\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CalendarModule.forRoot()\r\n  ],\r\n  declarations: [\r\n    CalendarSchedulerViewComponent,\r\n    CalendarSchedulerCellComponent,\r\n    CalendarSchedulerHeaderComponent,\r\n    CalendarSchedulerEventComponent,\r\n    CalendarSchedulerEventTitleComponent,\r\n    CalendarSchedulerEventContentComponent,\r\n    CalendarSchedulerEventActionsComponent,\r\n    SchedulerEventTitlePipe\r\n  ],\r\n  providers: [\r\n    SchedulerEventTitlePipe,\r\n    SchedulerEventTitleFormatter,\r\n    SchedulerDateFormatter\r\n  ],\r\n  exports: [\r\n    CalendarSchedulerViewComponent,\r\n    CalendarSchedulerCellComponent,\r\n    CalendarSchedulerHeaderComponent,\r\n    CalendarSchedulerEventComponent,\r\n    CalendarSchedulerEventTitleComponent,\r\n    CalendarSchedulerEventContentComponent,\r\n    CalendarSchedulerEventActionsComponent\r\n  ]\r\n})\r\nexport class SchedulerModule {\r\n  static forRoot(config?: SchedulerConfig): ModuleWithProviders {\r\n    return {\r\n        ngModule: SchedulerModule,\r\n        providers: [\r\n            { provide: SCHEDULER_CONFIG, useValue: config },\r\n            { provide: SchedulerConfig, useFactory: provideAuthConfig, deps: [SCHEDULER_CONFIG] }\r\n        ]\r\n    };\r\n}\r\n}\r\n"],"names":["Injectable","EventEmitter","startOfDay","startOfWeek","addDays","endOfDay","endOfWeek","setDate","setMonth","setYear","addMinutes","isSameSecond","subSeconds","isSameDay","getDay","setMinutes","setHours","startOfMinute","addHours","Component","ViewEncapsulation","ChangeDetectorRef","Inject","LOCALE_ID","Input","Output","moment","Renderer2","tslib_1.__extends","CalendarEventTitleFormatter","Pipe","CalendarDateFormatter","addWeeks","addMonths","subDays","subWeeks","subMonths","startOfMonth","endOfMonth","InjectionToken","NgModule","CommonModule","CalendarModule"],"mappings":"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"}
