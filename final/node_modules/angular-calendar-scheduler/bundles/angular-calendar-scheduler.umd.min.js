!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("date-fns"),require("moment"),require("angular-calendar"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-calendar-scheduler",["exports","@angular/core","date-fns","moment","angular-calendar","@angular/common"],t):t(e["angular-calendar-scheduler"]={},e.ng.core,null,null,null,e.ng.common)}(this,function(e,t,l,n,c,s){"use strict";function a(e,t){function l(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}function r(e){return new o(e)}var o=function(){function e(e){function t(t,l){return e&&t!==undefined?t:l}void 0===e&&(e={}),this.locale="en",this.headerDateFormat="daysRange",this.locale=t(e.locale,this.locale),this.headerDateFormat=t(e.headerDateFormat,this.headerDateFormat)}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:e}]},e}(),d=[0,6],i=function(){function e(e,l,n){this.cdr=e,this.config=n,this.events=[],this.hourSegments=2,this.excludeDays=[],this.startsWithToday=!1,this.showActions=!0,this.tooltipPlacement="bottom",this.precision="days",this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayClicked=new t.EventEmitter,this.segmentClicked=new t.EventEmitter,this.eventClicked=new t.EventEmitter,this.hours=[],this.locale=n.locale||l}return e.prototype.ngOnInit=function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){e.refreshAll(),e.cdr.markForCheck()}))},e.prototype.ngOnChanges=function(e){this.hours=this.getSchedulerViewHourGrid({viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute}}),(e.viewDate||e.excludeDays)&&this.refreshHeader(),(e.events||e.viewDate||e.excludeDays||e.dayStartHour||e.dayEndHour||e.dayStartMinute||e.dayEndMinute)&&this.refreshBody()},e.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},e.prototype.toggleSegmentHighlight=function(e,t){this.days.forEach(function(l){l.hours.forEach(function(l){l.segments.filter(function(t){return t.events.some(function(t){return t.id===e.id&&t.start.getDay()===e.start.getDay()})}).forEach(function(l){l.events.filter(function(t){return t.id===e.id&&t.start.getDay()===e.start.getDay()}).forEach(function(e){t?l.backgroundColor=e.color.secondary:delete l.backgroundColor})})})})},e.prototype.refreshHeader=function(){this.headerDays=this.getSchedulerViewDays({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,startsWithToday:this.startsWithToday,excluded:this.excludeDays})},e.prototype.refreshBody=function(){var e=this;this.view=this.getSchedulerView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,startsWithToday:this.startsWithToday,excluded:this.excludeDays}),this.dayModifier&&this.days.forEach(function(t){return e.dayModifier(t)}),(this.dayModifier||this.hourModifier||this.segmentModifier)&&this.view.days.forEach(function(t){e.dayModifier&&e.dayModifier(t),t.hours.forEach(function(t){e.hourModifier&&e.hourModifier(t),t.segments.forEach(function(t){e.segmentModifier&&e.segmentModifier(t)})})})},e.prototype.refreshAll=function(){this.refreshHeader(),this.refreshBody()},e.prototype.getSchedulerView=function(e){var t=this,n=e.events||[],c=e.viewDate,s=e.weekStartsOn,a=e.startsWithToday,r=e.excluded||[];e.precision;n||(n=[]);var o=a?l.startOfDay(c):l.startOfWeek(c,{weekStartsOn:s}),d=a?l.addDays(l.endOfDay(c),6):l.endOfWeek(c,{weekStartsOn:s}),i=this.getEventsInPeriod({events:n,periodStart:o,periodEnd:d});return this.days=this.getSchedulerViewDays({viewDate:c,weekStartsOn:s,startsWithToday:a,excluded:r}),this.days.forEach(function(e,n){var c=[];t.hours.forEach(function(n,s){var a=[];n.segments.forEach(function(n,c){n.date=l.setDate(l.setMonth(l.setYear(n.date,e.date.getFullYear()),e.date.getMonth()),e.date.getDate());var s=n.date,r=l.addMinutes(n.date,60/t.hourSegments),o=t.getEventsInPeriod({events:i,periodStart:s,periodEnd:r}).map(function(e){return{id:e.id,start:e.start,end:e.end,title:e.title,content:e.content,color:e.color,actions:e.actions,status:e.status,cssClass:e.cssClass,startsBeforeSegment:e.start<s,endsAfterSegment:e.end>r,isHovered:!1,isDisabled:e.isDisabled||!1,isClickable:e.isClickable===undefined||null===e.isClickable||e.isClickable}});a.push({segment:n,date:new Date(n.date),events:o,hasBorder:!0})});var r=new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate(),n.segments[0].date.getHours());c.push({hour:n,date:r,segments:a,hasBorder:!0})}),e.hours=c}),{days:this.days}},e.prototype.isEventInPeriod=function(e){var t=e.event,n=e.periodStart,c=e.periodEnd,s=t.start,a=t.end||t.start;return s>n&&s<c||(a>n&&a<c||(s<n&&a>c||(!(!l.isSameSecond(s,n)&&!l.isSameSecond(s,l.subSeconds(c,1)))||!(!l.isSameSecond(l.subSeconds(a,1),n)&&!l.isSameSecond(a,c)))))},e.prototype.getEventsInPeriod=function(e){var t=this,l=e.events,n=e.periodStart,c=e.periodEnd;return l.filter(function(e){return t.isEventInPeriod({event:e,periodStart:n,periodEnd:c})})},e.prototype.getSchedulerViewDays=function(e){for(var t=this,n=e.viewDate,c=e.weekStartsOn,s=e.startsWithToday,a=e.excluded||[],r=s?new Date(n):l.startOfWeek(n,{weekStartsOn:c}),o=[],d=function(e){var n=l.addDays(r,e);a.some(function(e){return n.getDay()===e})||o.push(t.getSchedulerDay({date:n}))},i=0;i<7;i++)d(i);return o},e.prototype.getSchedulerDay=function(e){var t=e.date,n=l.startOfDay(new Date);return{date:t,isPast:t<n,isToday:l.isSameDay(t,n),isFuture:t>n,isWeekend:d.indexOf(l.getDay(t))>-1,hours:[]}},e.prototype.getSchedulerViewHourGrid=function(e){var t=e.viewDate,n=e.hourSegments,c=e.dayStart,s=e.dayEnd,a=[],r=l.setMinutes(l.setHours(l.startOfDay(t),c.hour),c.minute),o=l.setMinutes(l.setHours(l.startOfMinute(l.endOfDay(t)),s.hour),s.minute),d=60/n,i=l.startOfDay(t);return function(e,t){return Array.from({length:t+1-e},function(t,l){return l+e})}(c.hour,s.hour).forEach(function(e,t){for(var c=[],s=0;s<n;s++){var u=l.addMinutes(l.addHours(i,e),s*d);u>=r&&u<o&&c.push({date:u,isStart:0===s})}c.length>0&&a.push({segments:c})}),a},e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-view",template:'\n        <div class="cal-scheduler-view" #weekViewContainer>\n            <calendar-scheduler-header\n                [days]="headerDays"\n                [locale]="locale"\n                [customTemplate]="headerTemplate"\n                (dayClicked)="dayClicked.emit($event)">\n            </calendar-scheduler-header>\n\n            <div class="cal-scheduler">\n                <div class="cal-scheduler-hour-rows aside">\n                    <div class="cal-scheduler-hour align-center horizontal" *ngFor="let hour of hours">\n                      <div class="cal-scheduler-time">\n                        <div class="cal-scheduler-hour-segment" *ngFor="let segment of hour.segments">\n                            {{ segment.date | calendarDate:\'dayViewHour\':locale }}\n                        </div>\n                      </div>\n                    </div>\n                </div>\n\n                <div class="cal-scheduler-cols aside">\n                    <div class="cal-scheduler-col" *ngFor="let day of view.days">\n                        <calendar-scheduler-cell\n                            *ngFor="let hour of day.hours"\n                            [ngClass]="day?.cssClass"\n                            [day]="day"\n                            [hour]="hour"\n                            [locale]="locale"\n                            [tooltipPlacement]="tooltipPlacement"\n                            [showActions]="showActions"\n                            [customTemplate]="cellTemplate"\n                            [eventTemplate]="eventTemplate"\n                            (click)="dayClicked.emit({date: day})"\n                            (highlightSegment)="toggleSegmentHighlight($event.event, true)"\n                            (unhighlightSegment)="toggleSegmentHighlight($event.event, false)"\n                            (segmentClicked)="segmentClicked.emit({segment: $event.segment})"\n                            (eventClicked)="eventClicked.emit({event: $event.event})">\n                        </calendar-scheduler-cell>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:[".cal-scheduler-view .cal-scheduler-headers{display:flex;flex-flow:row wrap;margin-bottom:3px;border:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .aside{flex:1 0}.cal-scheduler-view .cal-scheduler-headers .aside.cal-header-clock{max-width:5em}.cal-scheduler-view .cal-scheduler-headers .cal-header{flex:1;text-align:center;padding:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-scheduler-view .cal-scheduler-headers .cal-header:not(:last-child){border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .cal-header:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-weekend span{color:#8b0000}.cal-scheduler-view .cal-scheduler-headers .cal-header span{font-weight:400;opacity:.5}.cal-scheduler-view .cal-scheduler,.cal-scheduler-view .cal-scheduler-headers .cal-header-cols{display:flex;flex-flow:row wrap}.cal-scheduler-view .cal-scheduler .aside{flex:1 0}.cal-scheduler-view .cal-scheduler .aside.cal-scheduler-hour-rows{max-width:5em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows{width:auto!important;border:1px solid #e1e1e1;overflow:hidden;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour{display:flex;height:7.25em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:nth-child(odd){background-color:#fafafa}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:not(:last-child){border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time{display:flex;flex-flow:column wrap;width:100%;font-weight:700;text-align:center}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment{flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols{display:flex;flex-flow:row wrap;border-top:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col{display:flex;flex-flow:column wrap;flex:1 0;border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell{display:flex;flex-flow:column wrap;flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled .cal-scheduler-events{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments{display:flex;flex-flow:column wrap;flex:1 0;border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled .cal-scheduler-event{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(.has-events):hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event{flex:1 0;display:flex;flex-flow:row wrap;padding:0 10px;font-size:12px;margin:0 2px;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:all ease-out .2s;filter:brightness(100%);-webkit-filter:brightness(100%);-webkit-backface-visibility:hidden}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-starts-within-segment{border-top-left-radius:.3em;border-top-right-radius:.3em;margin-top:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-ends-within-segment{border-bottom-left-radius:.3em;border-bottom-right-radius:.3em;margin-bottom:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-disabled{background-color:gray!important;filter:grayscale(100%);-webkit-filter:grayscale(100%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-not-clickable{cursor:not-allowed!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled).hovered,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled):hover{cursor:pointer;filter:brightness(80%);-webkit-filter:brightness(80%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container{position:relative;width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-title{font-size:16px;font-weight:700}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status{position:absolute;top:25%;right:1%;width:16px;height:16px;background:grey;border-radius:50px;border:1px solid #000}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.ok{background:green}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.warning{background:orange}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.danger{background:red}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-content-container{width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container{flex:1 0;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions{position:absolute;bottom:5px;right:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions .cal-scheduler-event-action{text-decoration:none}"],encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:String,decorators:[{type:t.Inject,args:[t.LOCALE_ID]}]},{type:o}]},e.propDecorators={viewDate:[{type:t.Input}],events:[{type:t.Input}],hourSegments:[{type:t.Input}],excludeDays:[{type:t.Input}],startsWithToday:[{type:t.Input}],showActions:[{type:t.Input}],dayModifier:[{type:t.Input}],hourModifier:[{type:t.Input}],segmentModifier:[{type:t.Input}],refresh:[{type:t.Input}],locale:[{type:t.Input}],tooltipPlacement:[{type:t.Input}],weekStartsOn:[{type:t.Input}],headerTemplate:[{type:t.Input}],cellTemplate:[{type:t.Input}],eventTemplate:[{type:t.Input}],precision:[{type:t.Input}],dayStartHour:[{type:t.Input}],dayStartMinute:[{type:t.Input}],dayEndHour:[{type:t.Input}],dayEndMinute:[{type:t.Input}],dayClicked:[{type:t.Output}],segmentClicked:[{type:t.Output}],eventClicked:[{type:t.Output}]},e}(),u=n,h=function(){function e(){this.showActions=!0,this.highlightSegment=new t.EventEmitter,this.unhighlightSegment=new t.EventEmitter,this.segmentClicked=new t.EventEmitter,this.eventClicked=new t.EventEmitter}return e.prototype.ngOnInit=function(){this.title=u(this.day.date).format("dddd L")},e.prototype.onMouseEnter=function(e,t,l){l.isDisabled||t.isDisabled||this.highlightSegment.emit({event:l})},e.prototype.onMouseLeave=function(e,t,l){l.isDisabled||t.isDisabled||this.unhighlightSegment.emit({event:l})},e.prototype.onSegmentClick=function(e,t){e.stopPropagation&&e.stopPropagation(),0===t.events.length&&this.segmentClicked.emit({segment:t})},e.prototype.onEventClick=function(e,t){e.stopPropagation&&e.stopPropagation(),t.isClickable&&this.eventClicked.emit({event:t})},e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-cell",template:'\n        <ng-template #defaultTemplate>\n            <div class="cal-scheduler-segments" *ngIf="hour.segments.length > 0"\n                [ngClass]="hour?.cssClass"\n                [class.no-border]="!hour.hasBorder">\n                <div class="cal-scheduler-segment"\n                    *ngFor="let segment of hour.segments; let si = index"\n                    [title]="title"\n                    [ngClass]="segment?.cssClass"\n                    [class.has-events]="segment.events.length > 0"\n                    [class.cal-disabled]="segment.isDisabled"\n                    [style.backgroundColor]="segment.backgroundColor"\n                    [class.no-border]="!segment.hasBorder"\n                    (mwlClick)="onSegmentClick($event, segment)">\n\n                    <div class="cal-scheduler-events" *ngIf="segment.events.length > 0">\n                        <calendar-scheduler-event\n                            *ngFor="let event of segment.events"\n                            [day]="day"\n                            [hour]="hour"\n                            [segment]="segment"\n                            [event]="event"\n                            (mouseenter)="onMouseEnter($event, segment, event)"\n                            (mouseleave)="onMouseLeave($event, segment, event)"\n                            [tooltipPlacement]="tooltipPlacement"\n                            [showActions]="showActions"\n                            [customTemplate]="eventTemplate"\n                            (eventClicked)="onEventClick($event, event)">\n                        </calendar-scheduler-event>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]="customTemplate || defaultTemplate"\n            [ngTemplateOutletContext]="{\n                day: day,\n                hour: hour,\n                locale: locale,\n                tooltipPlacement: tooltipPlacement,\n                showActions: showActions,\n                eventTemplate: eventTemplate,\n                highlightSegment: highlightSegment,\n                unhighlightSegment: unhighlightSegment,\n                segmentClicked: segmentClicked,\n                eventClicked: eventClicked\n            }">\n        </ng-template>\n    ',host:{"class":"cal-scheduler-cell","[class.cal-past]":"day.isPast","[class.cal-today]":"day.isToday","[class.cal-future]":"day.isFuture","[class.cal-weekend]":"day.isWeekend","[class.cal-in-month]":"day.inMonth","[class.cal-out-month]":"!day.inMonth","[style.backgroundColor]":"day.backgroundColor"}}]}],e.propDecorators={title:[{type:t.Input}],day:[{type:t.Input}],hour:[{type:t.Input}],locale:[{type:t.Input}],tooltipPlacement:[{type:t.Input}],showActions:[{type:t.Input}],customTemplate:[{type:t.Input}],eventTemplate:[{type:t.Input}],highlightSegment:[{type:t.Output}],unhighlightSegment:[{type:t.Output}],segmentClicked:[{type:t.Output}],eventClicked:[{type:t.Output}]},e}(),v=function(){function e(){this.dayClicked=new t.EventEmitter}return e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-header",template:'\n        <ng-template #defaultTemplate>\n            <div class="cal-scheduler-headers">\n                <div class="cal-header aside cal-header-clock align-center">\n                    <i class="material-icons md-32" style="margin:auto;">schedule</i>\n                </div>\n\n                <div class="cal-header-cols aside">\n                    <div\n                        class="cal-header"\n                        *ngFor="let day of days"\n                        [class.cal-past]="day.isPast"\n                        [class.cal-today]="day.isToday"\n                        [class.cal-future]="day.isFuture"\n                        [class.cal-weekend]="day.isWeekend"\n                        [class.cal-drag-over]="day.dragOver"\n                        (mwlClick)="dayClicked.emit({date: day.date})">\n                        <b>{{ day.date | calendarDate:\'weekViewColumnHeader\':locale }}</b><br>\n                        <span>{{ day.date | calendarDate:\'weekViewColumnSubHeader\':locale }}</span>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]="customTemplate || defaultTemplate"\n            [ngTemplateOutletContext]="{days: days, locale: locale, dayClicked: dayClicked}">\n        </ng-template>\n    '}]}],e.propDecorators={days:[{type:t.Input}],locale:[{type:t.Input}],customTemplate:[{type:t.Input}],dayClicked:[{type:t.Output}]},e}(),p=n,m=function(){function e(e){this.renderer=e,this.showActions=!0,this.eventClicked=new t.EventEmitter}return e.prototype.ngOnInit=function(){this.segment.hasBorder=this.hour.hasBorder=!this.event.endsAfterSegment,this.title=p(this.event.start).format("dddd L"),this.checkEnableState()},e.prototype.checkEnableState=function(){var e=this;this.segment.isDisabled&&this.day.hours.forEach(function(t){t.segments.forEach(function(t){t.events.filter(function(t){return t.id===e.event.id&&l.isSameDay(t.start,e.event.start)}).forEach(function(e){e.isDisabled=!0})})})},e.prototype.highlightEvent=function(){var e=this;this.day.hours.forEach(function(t){t.segments.forEach(function(t){t.events.filter(function(t){return t.id===e.event.id&&l.isSameDay(t.start,e.event.start)}).forEach(function(e){e.isHovered=!0})})})},e.prototype.unhighlightEvent=function(){var e=this;this.day.hours.forEach(function(t){t.segments.forEach(function(t){t.events.filter(function(t){return t.id===e.event.id&&l.isSameDay(t.start,e.event.start)}).forEach(function(e){e.isHovered=!1})})})},e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-event",template:'\n        <ng-template #defaultTemplate>\n            <div\n                class="cal-scheduler-event"\n                [title]="title"\n                [class.cal-starts-within-segment]="!event.startsBeforeSegment"\n                [class.cal-ends-within-segment]="!event.endsAfterSegment"\n                [class.hovered]="event.isHovered"\n                [class.cal-disabled]="event.isDisabled || segment.isDisabled"\n                [class.cal-not-clickable]="!event.isClickable"\n                [style.backgroundColor]="event.color.primary"\n                [ngClass]="event?.cssClass"\n                (mwlClick)="eventClicked.emit({event: event})"\n                (mouseenter)="highlightEvent()"\n                (mouseleave)="unhighlightEvent()">\n                <calendar-scheduler-event-title *ngIf="!event.startsBeforeSegment"\n                    [event]="event"\n                    view="week">\n                </calendar-scheduler-event-title>\n                <calendar-scheduler-event-content *ngIf="!event.startsBeforeSegment"\n                    [event]="event">\n                </calendar-scheduler-event-content>\n                <calendar-scheduler-event-actions [event]="event" *ngIf="showActions && event.isClickable && !event.endsAfterSegment"></calendar-scheduler-event-actions>\n                <calendar-scheduler-event-actions [event]="event" *ngIf="showActions && event.isDisabled && !event.endsAfterSegment"></calendar-scheduler-event-actions>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]="customTemplate || defaultTemplate"\n            [ngTemplateOutletContext]="{\n                day: day,\n                hour: hour,\n                segment: segment,\n                event: event,\n                tooltipPlacement: tooltipPlacement,\n                showActions: showActions,\n                customTemplate: customTemplate,\n                eventClicked: eventClicked\n            }">\n        </ng-template>\n    ',host:{"class":"cal-scheduler-event-container"}}]}],e.ctorParameters=function(){return[{type:t.Renderer2}]},e.propDecorators={title:[{type:t.Input}],day:[{type:t.Input}],hour:[{type:t.Input}],segment:[{type:t.Input}],event:[{type:t.Input}],tooltipPlacement:[{type:t.Input}],showActions:[{type:t.Input}],customTemplate:[{type:t.Input}],eventClicked:[{type:t.Output}]},e}(),g=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-event-title",template:'\n        <div\n            class="cal-scheduler-event-title"\n            [innerHTML]="event.title | schedulerEventTitle:view:event">\n        </div>\n        <div *ngIf="event.status"\n            class="cal-scheduler-event-status"\n            [class.ok]="event.status === \'ok\'"\n            [class.warning]="event.status === \'warning\'"\n            [class.danger]="event.status === \'danger\'">\n        </div>\n    ',host:{"class":"cal-scheduler-event-title-container"}}]}],e.propDecorators={event:[{type:t.Input}],view:[{type:t.Input}]},e}(),f=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-event-content",template:'\n        <div *ngIf="event.content"\n            class="cal-scheduler-event-content"\n            [innerHTML]="event.content">\n        </div>\n    ',host:{"class":"cal-scheduler-event-content-container"}}]}],e.propDecorators={event:[{type:t.Input}]},e}(),y=function(){function e(){this.actions=[]}return e.prototype.ngOnInit=function(){this.actions=this.event.isDisabled?this.event.actions.filter(function(e){return!e.when||"disabled"===e.when}):this.event.actions.filter(function(e){return!e.when||"enabled"===e.when})},e.prototype.onActionClick=function(e,t,l){e.stopPropagation&&e.stopPropagation(),t.onClick(l)},e.decorators=[{type:t.Component,args:[{selector:"calendar-scheduler-event-actions",template:'\n        <span *ngIf="event.actions" class="cal-scheduler-event-actions">\n            <a\n                class="cal-scheduler-event-action"\n                href="javascript:;"\n                *ngFor="let action of actions"\n                (mwlClick)="onActionClick($event, action, event)"\n                [ngClass]="action.cssClass"\n                [innerHtml]="action.label"\n                [title]="action.title">\n            </a>\n        </span>\n    ',host:{"class":"cal-scheduler-event-actions-container"}}]}],e.propDecorators={event:[{type:t.Input}]},e}(),w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])})(e,t)},b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(c.CalendarEventTitleFormatter),k=function(){function e(e){this.schedulerEventTitle=e}return e.prototype.transform=function(e,t,l){return this.schedulerEventTitle[t](l)},e.decorators=[{type:t.Pipe,args:[{name:"schedulerEventTitle"}]}],e.ctorParameters=function(){return[{type:b}]},e}(),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.dayViewHour=function(e){var t=e.date,l=e.locale;return new Intl.DateTimeFormat(l,{hour:"numeric",minute:"numeric"}).format(t)},t.prototype.weekViewTitle=function(e){var t=e.date,l=e.locale,n=new Intl.DateTimeFormat(l,{year:"numeric"}).format(t),c=new Intl.DateTimeFormat(l,{month:"short"}).format(t),s=t.getDate();0===t.getDay()&&(s+=1);var a=s+6,r=c,o=c,d=n,i=n;if(s<1){var u=new Date(t.getFullYear(),t.getMonth()-1);r=new Intl.DateTimeFormat(l,{month:"short"}).format(u);var h=0,v=this.daysInMonth(u);for(h=0;h<Math.abs(s);h++)v--;s=v;var p=new Intl.DateTimeFormat(l,{year:"numeric"}).format(u);Number(p)<Number(n)&&(d=p)}var m=this.daysInMonth(t);if(a>m){var g=new Date(t.getFullYear(),t.getMonth()+1);o=new Intl.DateTimeFormat(l,{month:"short"}).format(g);var h=0,f=0;for(h=0;h<a-m;h++)f++;a=f;var y=new Intl.DateTimeFormat(l,{year:"numeric"}).format(g);Number(y)>Number(n)&&(i=y)}return s+(r!==o?" "+r:"")+(d!==i?" "+d:"")+" - "+a+" "+o+" "+i},t.prototype.daysInMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},t}(c.CalendarDateFormatter),C=new t.InjectionToken("SchedulerConfig"),S=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:C,useValue:t},{provide:o,useFactory:r,deps:[C]}]}},e.decorators=[{type:t.NgModule,args:[{imports:[s.CommonModule,c.CalendarModule.forRoot()],declarations:[i,h,v,m,g,f,y,k],providers:[k,b,D],exports:[i,h,v,m,g,f,y]}]}],e}();e.SCHEDULER_CONFIG=C,e.provideAuthConfig=r,e.SchedulerModule=S,e.CalendarSchedulerViewComponent=i,e.SchedulerDateFormatter=D,e.SchedulerEventTitleFormatter=b,e.SchedulerEventTitlePipe=k,e.addPeriod=function(e,t,n){return{day:l.addDays,week:l.addWeeks,month:l.addMonths}[e](t,n)},e.subPeriod=function(e,t,n){return{day:l.subDays,week:l.subWeeks,month:l.subMonths}[e](t,n)},e.startOfPeriod=function(e,t){return{day:l.startOfDay,week:l.startOfWeek,month:l.startOfMonth}[e](t)},e.endOfPeriod=function(e,t){return{day:l.endOfDay,week:l.endOfWeek,month:l.endOfMonth}[e](t)},e.ɵb=h,e.ɵg=y,e.ɵf=f,e.ɵe=g,e.ɵd=m,e.ɵc=v,e.ɵa=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-calendar-scheduler.umd.min.js.map