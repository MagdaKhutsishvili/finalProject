(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('date-fns'), require('moment'), require('angular-calendar'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('angular-calendar-scheduler', ['exports', '@angular/core', 'date-fns', 'moment', 'angular-calendar', '@angular/common'], factory) :
    (factory((global['angular-calendar-scheduler'] = {}),global.ng.core,null,null,null,global.ng.common));
}(this, (function (exports,core,dateFns,momentImported,angularCalendar,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * Auth configuration.
     */
    var SchedulerConfig = (function () {
        function SchedulerConfig(config) {
            if (config === void 0) {
                config = {};
            }
            this.locale = 'en';
            this.headerDateFormat = 'daysRange';
            /**
             * @template T
             * @param {?} source
             * @param {?} defaultValue
             * @return {?}
             */
            function use(source, defaultValue) {
                return config && source !== undefined ? source : defaultValue;
            }
            this.locale = use(config.locale, this.locale);
            this.headerDateFormat = use(config.headerDateFormat, this.headerDateFormat);
        }
        SchedulerConfig.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        SchedulerConfig.ctorParameters = function () {
            return [
                { type: SchedulerConfig }
            ];
        };
        return SchedulerConfig;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var WEEKEND_DAY_NUMBERS = [0, 6];
    /** @type {?} */
    var DAYS_IN_WEEK = 7;
    /** @type {?} */
    var MINUTES_IN_HOUR = 60;
    var CalendarSchedulerViewComponent = (function () {
        /**
         * @hidden
         */
        function CalendarSchedulerViewComponent(cdr, locale, config) {
            this.cdr = cdr;
            this.config = config;
            /**
             * An array of events to display on view
             */
            this.events = [];
            /**
             * The number of segments in an hour. Must be <= 6
             */
            this.hourSegments = 2;
            /**
             * An array of day indexes (0 = sunday, 1 = monday etc) that will be hidden on the view
             */
            this.excludeDays = [];
            /**
             * Specify if the first day of current scheduler view has to be today or the first day of the week
             */
            this.startsWithToday = false;
            /**
             * Specify if actions must be shown or not
             */
            this.showActions = true;
            /**
             * The placement of the event tooltip
             */
            this.tooltipPlacement = 'bottom';
            /**
             * The precision to display events.
             * `days` will round event start and end dates to the nearest day and `minutes` will not do this rounding
             */
            this.precision = 'days';
            /**
             * The day start hours in 24 hour time. Must be 0-23
             */
            this.dayStartHour = 0;
            /**
             * The day start minutes. Must be 0-59
             */
            this.dayStartMinute = 0;
            /**
             * The day end hours in 24 hour time. Must be 0-23
             */
            this.dayEndHour = 23;
            /**
             * The day end minutes. Must be 0-59
             */
            this.dayEndMinute = 59;
            /**
             * Called when a header week day is clicked
             */
            this.dayClicked = new core.EventEmitter();
            /**
             * Called when the segment is clicked
             */
            this.segmentClicked = new core.EventEmitter();
            /**
             * Called when the event is clicked
             */
            this.eventClicked = new core.EventEmitter();
            /**
             * @hidden
             */
            this.hours = [];
            this.locale = config.locale || locale;
        }
        /**
         * @hidden
         */
        /**
         * @hidden
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.ngOnInit = /**
         * @hidden
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.refresh) {
                    this.refreshSubscription = this.refresh.subscribe(function () {
                        _this.refreshAll();
                        _this.cdr.markForCheck();
                    });
                }
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @param {?} changes
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.ngOnChanges = /**
         * @hidden
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                this.hours = this.getSchedulerViewHourGrid({
                    viewDate: this.viewDate,
                    hourSegments: this.hourSegments,
                    dayStart: {
                        hour: this.dayStartHour,
                        minute: this.dayStartMinute
                    },
                    dayEnd: {
                        hour: this.dayEndHour,
                        minute: this.dayEndMinute
                    }
                });
                if (changes.viewDate || changes.excludeDays) {
                    this.refreshHeader();
                }
                if (changes.events || changes.viewDate || changes.excludeDays || changes.dayStartHour || changes.dayEndHour || changes.dayStartMinute || changes.dayEndMinute) {
                    this.refreshBody();
                }
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.ngOnDestroy = /**
         * @hidden
         * @return {?}
         */
            function () {
                if (this.refreshSubscription) {
                    this.refreshSubscription.unsubscribe();
                }
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @param {?} event
         * @param {?} isHighlighted
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.toggleSegmentHighlight = /**
         * @hidden
         * @param {?} event
         * @param {?} isHighlighted
         * @return {?}
         */
            function (event, isHighlighted) {
                this.days.forEach(function (day) {
                    day.hours.forEach(function (hour) {
                        // hour.segments.forEach((segment: SchedulerViewHourSegment) => {
                        //    if (isHighlighted && segment.events.indexOf(event) > -1) {
                        //        segment.backgroundColor = event.color.secondary;
                        //    } else {
                        //        delete segment.backgroundColor;
                        //    }
                        // });
                        hour.segments.filter(function (segment) { return segment.events.some(function (ev) { return ev.id === event.id && ev.start.getDay() === event.start.getDay(); }); })
                            .forEach(function (segment) {
                            segment.events.filter(function (ev) { return ev.id === event.id && ev.start.getDay() === event.start.getDay(); })
                                .forEach(function (e) {
                                if (isHighlighted) {
                                    segment.backgroundColor = e.color.secondary;
                                }
                                else {
                                    delete segment.backgroundColor;
                                }
                            });
                        });
                    });
                });
            };
        /**
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.refreshHeader = /**
         * @return {?}
         */
            function () {
                this.headerDays = this.getSchedulerViewDays({
                    viewDate: this.viewDate,
                    weekStartsOn: this.weekStartsOn,
                    startsWithToday: this.startsWithToday,
                    excluded: this.excludeDays
                });
            };
        /**
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.refreshBody = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.view = this.getSchedulerView({
                    events: this.events,
                    viewDate: this.viewDate,
                    weekStartsOn: this.weekStartsOn,
                    startsWithToday: this.startsWithToday,
                    excluded: this.excludeDays
                });
                if (this.dayModifier) {
                    this.days.forEach(function (day) { return _this.dayModifier(day); });
                }
                if (this.dayModifier || this.hourModifier || this.segmentModifier) {
                    this.view.days.forEach(function (day) {
                        if (_this.dayModifier) {
                            _this.dayModifier(day);
                        }
                        day.hours.forEach(function (hour) {
                            if (_this.hourModifier) {
                                _this.hourModifier(hour);
                            }
                            hour.segments.forEach(function (segment) {
                                if (_this.segmentModifier) {
                                    _this.segmentModifier(segment);
                                }
                            });
                        });
                    });
                }
            };
        /**
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.refreshAll = /**
         * @return {?}
         */
            function () {
                this.refreshHeader();
                this.refreshBody();
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.getSchedulerView = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                var _this = this;
                /** @type {?} */
                var events = args.events || [];
                /** @type {?} */
                var viewDate = args.viewDate;
                /** @type {?} */
                var weekStartsOn = args.weekStartsOn;
                /** @type {?} */
                var startsWithToday = args.startsWithToday;
                /** @type {?} */
                var excluded = args.excluded || [];
                /** @type {?} */
                var precision = args.precision || 'days';
                if (!events) {
                    events = [];
                }
                /** @type {?} */
                var startOfViewWeek = startsWithToday ? dateFns.startOfDay(viewDate) : dateFns.startOfWeek(viewDate, { weekStartsOn: weekStartsOn });
                /** @type {?} */
                var endOfViewWeek = startsWithToday ? dateFns.addDays(dateFns.endOfDay(viewDate), 6) : dateFns.endOfWeek(viewDate, { weekStartsOn: weekStartsOn });
                /** @type {?} */
                var eventsInWeek = this.getEventsInPeriod({ events: events, periodStart: startOfViewWeek, periodEnd: endOfViewWeek });
                this.days = this.getSchedulerViewDays({
                    viewDate: viewDate,
                    weekStartsOn: weekStartsOn,
                    startsWithToday: startsWithToday,
                    excluded: excluded
                });
                this.days.forEach(function (day, dayIndex) {
                    /** @type {?} */
                    var hours = [];
                    _this.hours.forEach(function (hour, hourIndex) {
                        /** @type {?} */
                        var segments = [];
                        hour.segments.forEach(function (segment, segmentIndex) {
                            segment.date = dateFns.setDate(dateFns.setMonth(dateFns.setYear(segment.date, day.date.getFullYear()), day.date.getMonth()), day.date.getDate());
                            /** @type {?} */
                            var startOfSegment = segment.date;
                            /** @type {?} */
                            var endOfSegment = dateFns.addMinutes(segment.date, MINUTES_IN_HOUR / _this.hourSegments);
                            /** @type {?} */
                            var evts = _this.getEventsInPeriod({
                                events: eventsInWeek,
                                periodStart: startOfSegment,
                                periodEnd: endOfSegment
                            }).map(function (event) {
                                return ({
                                    id: event.id,
                                    start: event.start,
                                    end: event.end,
                                    title: event.title,
                                    content: event.content,
                                    color: event.color,
                                    actions: event.actions,
                                    status: event.status,
                                    cssClass: event.cssClass,
                                    startsBeforeSegment: event.start < startOfSegment,
                                    endsAfterSegment: event.end > endOfSegment,
                                    isHovered: false,
                                    isDisabled: event.isDisabled || false,
                                    isClickable: event.isClickable !== undefined && event.isClickable !== null ? event.isClickable : true
                                });
                            });
                            segments.push(/** @type {?} */ ({
                                segment: segment,
                                date: new Date(segment.date),
                                events: evts,
                                hasBorder: true
                            }));
                        });
                        /** @type {?} */
                        var hourDate = new Date(day.date.getFullYear(), day.date.getMonth(), day.date.getDate(), hour.segments[0].date.getHours());
                        hours.push(/** @type {?} */ ({ hour: hour, date: hourDate, segments: segments, hasBorder: true }));
                    });
                    day.hours = hours;
                });
                return /** @type {?} */ ({
                    days: this.days
                });
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.isEventInPeriod = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var event = args.event;
                /** @type {?} */
                var periodStart = args.periodStart;
                /** @type {?} */
                var periodEnd = args.periodEnd;
                /** @type {?} */
                var eventStart = event.start;
                /** @type {?} */
                var eventEnd = event.end || event.start;
                if (eventStart > periodStart && eventStart < periodEnd) {
                    return true;
                }
                if (eventEnd > periodStart && eventEnd < periodEnd) {
                    return true;
                }
                if (eventStart < periodStart && eventEnd > periodEnd) {
                    return true;
                }
                if (dateFns.isSameSecond(eventStart, periodStart) || dateFns.isSameSecond(eventStart, dateFns.subSeconds(periodEnd, 1))) {
                    return true;
                }
                if (dateFns.isSameSecond(dateFns.subSeconds(eventEnd, 1), periodStart) || dateFns.isSameSecond(eventEnd, periodEnd)) {
                    return true;
                }
                return false;
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.getEventsInPeriod = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                var _this = this;
                /** @type {?} */
                var events = args.events;
                /** @type {?} */
                var periodStart = args.periodStart;
                /** @type {?} */
                var periodEnd = args.periodEnd;
                return events.filter(function (event) { return _this.isEventInPeriod({ event: event, periodStart: periodStart, periodEnd: periodEnd }); });
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.getSchedulerViewDays = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                var _this = this;
                /** @type {?} */
                var viewDate = args.viewDate;
                /** @type {?} */
                var weekStartsOn = args.weekStartsOn;
                /** @type {?} */
                var startsWithToday = args.startsWithToday;
                /** @type {?} */
                var excluded = args.excluded || [];
                /** @type {?} */
                var start = startsWithToday ? new Date(viewDate) : dateFns.startOfWeek(viewDate, { weekStartsOn: weekStartsOn });
                /** @type {?} */
                var days = [];
                /** @type {?} */
                var loop = function (i) {
                    /** @type {?} */
                    var date = dateFns.addDays(start, i);
                    if (!excluded.some(function (e) { return date.getDay() === e; })) {
                        days.push(_this.getSchedulerDay({ date: date }));
                    }
                };
                for (var i = 0; i < DAYS_IN_WEEK; i++) {
                    loop(i);
                }
                return days;
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.getSchedulerDay = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var date = args.date;
                /** @type {?} */
                var today = dateFns.startOfDay(new Date());
                return /** @type {?} */ ({
                    date: date,
                    isPast: date < today,
                    isToday: dateFns.isSameDay(date, today),
                    isFuture: date > today,
                    isWeekend: WEEKEND_DAY_NUMBERS.indexOf(dateFns.getDay(date)) > -1,
                    hours: []
                });
            };
        /**
         * @param {?} args
         * @return {?}
         */
        CalendarSchedulerViewComponent.prototype.getSchedulerViewHourGrid = /**
         * @param {?} args
         * @return {?}
         */
            function (args) {
                /** @type {?} */
                var viewDate = args.viewDate;
                /** @type {?} */
                var hourSegments = args.hourSegments;
                /** @type {?} */
                var dayStart = args.dayStart;
                /** @type {?} */
                var dayEnd = args.dayEnd;
                /** @type {?} */
                var hours = [];
                /** @type {?} */
                var startOfView = dateFns.setMinutes(dateFns.setHours(dateFns.startOfDay(viewDate), dayStart.hour), dayStart.minute);
                /** @type {?} */
                var endOfView = dateFns.setMinutes(dateFns.setHours(dateFns.startOfMinute(dateFns.endOfDay(viewDate)), dayEnd.hour), dayEnd.minute);
                /** @type {?} */
                var segmentDuration = MINUTES_IN_HOUR / hourSegments;
                /** @type {?} */
                var startOfViewDay = dateFns.startOfDay(viewDate);
                /** @type {?} */
                var range = function (start, end) { return Array.from({ length: ((end + 1) - start) }, function (v, k) { return k + start; }); };
                /** @type {?} */
                var hoursInView = range(dayStart.hour, dayEnd.hour);
                // for (var i = 0; i < HOURS_IN_DAY; i++) {
                hoursInView.forEach(function (hour, i) {
                    /** @type {?} */
                    var segments = [];
                    for (var j = 0; j < hourSegments; j++) {
                        /** @type {?} */
                        var date = dateFns.addMinutes(dateFns.addHours(startOfViewDay, hour), j * segmentDuration);
                        if (date >= startOfView && date < endOfView) {
                            segments.push({
                                date: date,
                                isStart: j === 0
                            });
                        }
                    }
                    if (segments.length > 0) {
                        hours.push(/** @type {?} */ ({ segments: segments }));
                    }
                });
                return hours;
            };
        CalendarSchedulerViewComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-view',
                        template: "\n        <div class=\"cal-scheduler-view\" #weekViewContainer>\n            <calendar-scheduler-header\n                [days]=\"headerDays\"\n                [locale]=\"locale\"\n                [customTemplate]=\"headerTemplate\"\n                (dayClicked)=\"dayClicked.emit($event)\">\n            </calendar-scheduler-header>\n\n            <div class=\"cal-scheduler\">\n                <div class=\"cal-scheduler-hour-rows aside\">\n                    <div class=\"cal-scheduler-hour align-center horizontal\" *ngFor=\"let hour of hours\">\n                      <div class=\"cal-scheduler-time\">\n                        <div class=\"cal-scheduler-hour-segment\" *ngFor=\"let segment of hour.segments\">\n                            {{ segment.date | calendarDate:'dayViewHour':locale }}\n                        </div>\n                      </div>\n                    </div>\n                </div>\n\n                <div class=\"cal-scheduler-cols aside\">\n                    <div class=\"cal-scheduler-col\" *ngFor=\"let day of view.days\">\n                        <calendar-scheduler-cell\n                            *ngFor=\"let hour of day.hours\"\n                            [ngClass]=\"day?.cssClass\"\n                            [day]=\"day\"\n                            [hour]=\"hour\"\n                            [locale]=\"locale\"\n                            [tooltipPlacement]=\"tooltipPlacement\"\n                            [showActions]=\"showActions\"\n                            [customTemplate]=\"cellTemplate\"\n                            [eventTemplate]=\"eventTemplate\"\n                            (click)=\"dayClicked.emit({date: day})\"\n                            (highlightSegment)=\"toggleSegmentHighlight($event.event, true)\"\n                            (unhighlightSegment)=\"toggleSegmentHighlight($event.event, false)\"\n                            (segmentClicked)=\"segmentClicked.emit({segment: $event.segment})\"\n                            (eventClicked)=\"eventClicked.emit({event: $event.event})\">\n                        </calendar-scheduler-cell>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",
                        styles: [".cal-scheduler-view .cal-scheduler-headers{display:flex;flex-flow:row wrap;margin-bottom:3px;border:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .aside{flex:1 0}.cal-scheduler-view .cal-scheduler-headers .aside.cal-header-clock{max-width:5em}.cal-scheduler-view .cal-scheduler-headers .cal-header{flex:1;text-align:center;padding:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-scheduler-view .cal-scheduler-headers .cal-header:not(:last-child){border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler-headers .cal-header:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler-headers .cal-header.cal-weekend span{color:#8b0000}.cal-scheduler-view .cal-scheduler-headers .cal-header span{font-weight:400;opacity:.5}.cal-scheduler-view .cal-scheduler,.cal-scheduler-view .cal-scheduler-headers .cal-header-cols{display:flex;flex-flow:row wrap}.cal-scheduler-view .cal-scheduler .aside{flex:1 0}.cal-scheduler-view .cal-scheduler .aside.cal-scheduler-hour-rows{max-width:5em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows{width:auto!important;border:1px solid #e1e1e1;overflow:hidden;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour{display:flex;height:7.25em}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:nth-child(odd){background-color:#fafafa}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour:not(:last-child){border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time{display:flex;flex-flow:column wrap;width:100%;font-weight:700;text-align:center}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment{flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-hour-rows .cal-scheduler-hour .cal-scheduler-time .cal-scheduler-hour-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols{display:flex;flex-flow:row wrap;border-top:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col{display:flex;flex-flow:column wrap;flex:1 0;border-right:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell{display:flex;flex-flow:column wrap;flex:1 0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-today{background-color:#e8fde7}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell.cal-disabled .cal-scheduler-events{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments{display:flex;flex-flow:column wrap;flex:1 0;border-bottom:1px solid #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments.cal-disabled .cal-scheduler-event{filter:opacity(50%);-webkit-filter:opacity(50%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(.has-events):hover{background-color:#ededed}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment:not(:last-child){border-bottom:thin dashed #e1e1e1}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.no-border{border-bottom:0!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment.cal-disabled{background-color:#eee;pointer-events:none}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container{flex:1 0;display:flex;flex-flow:column wrap}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event{flex:1 0;display:flex;flex-flow:row wrap;padding:0 10px;font-size:12px;margin:0 2px;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:all ease-out .2s;filter:brightness(100%);-webkit-filter:brightness(100%);-webkit-backface-visibility:hidden}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-starts-within-segment{border-top-left-radius:.3em;border-top-right-radius:.3em;margin-top:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-ends-within-segment{border-bottom-left-radius:.3em;border-bottom-right-radius:.3em;margin-bottom:2px}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-disabled{background-color:gray!important;filter:grayscale(100%);-webkit-filter:grayscale(100%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event.cal-not-clickable{cursor:not-allowed!important}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled).hovered,.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event:not(.cal-disabled):hover{cursor:pointer;filter:brightness(80%);-webkit-filter:brightness(80%)}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container{position:relative;width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-title{font-size:16px;font-weight:700}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status{position:absolute;top:25%;right:1%;width:16px;height:16px;background:grey;border-radius:50px;border:1px solid #000}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.ok{background:green}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.warning{background:orange}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-title-container .cal-scheduler-event-status.danger{background:red}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-content-container{width:100%}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container{flex:1 0;position:relative}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions{position:absolute;bottom:5px;right:0}.cal-scheduler-view .cal-scheduler .cal-scheduler-cols .cal-scheduler-col .cal-scheduler-cell .cal-scheduler-segments .cal-scheduler-segment .cal-scheduler-events .cal-scheduler-event-container .cal-scheduler-event .cal-scheduler-event-actions-container .cal-scheduler-event-actions .cal-scheduler-event-action{text-decoration:none}"],
                        encapsulation: core.ViewEncapsulation.None
                    },] },
        ];
        /** @nocollapse */
        CalendarSchedulerViewComponent.ctorParameters = function () {
            return [
                { type: core.ChangeDetectorRef },
                { type: String, decorators: [{ type: core.Inject, args: [core.LOCALE_ID,] }] },
                { type: SchedulerConfig }
            ];
        };
        CalendarSchedulerViewComponent.propDecorators = {
            viewDate: [{ type: core.Input }],
            events: [{ type: core.Input }],
            hourSegments: [{ type: core.Input }],
            excludeDays: [{ type: core.Input }],
            startsWithToday: [{ type: core.Input }],
            showActions: [{ type: core.Input }],
            dayModifier: [{ type: core.Input }],
            hourModifier: [{ type: core.Input }],
            segmentModifier: [{ type: core.Input }],
            refresh: [{ type: core.Input }],
            locale: [{ type: core.Input }],
            tooltipPlacement: [{ type: core.Input }],
            weekStartsOn: [{ type: core.Input }],
            headerTemplate: [{ type: core.Input }],
            cellTemplate: [{ type: core.Input }],
            eventTemplate: [{ type: core.Input }],
            precision: [{ type: core.Input }],
            dayStartHour: [{ type: core.Input }],
            dayStartMinute: [{ type: core.Input }],
            dayEndHour: [{ type: core.Input }],
            dayEndMinute: [{ type: core.Input }],
            dayClicked: [{ type: core.Output }],
            segmentClicked: [{ type: core.Output }],
            eventClicked: [{ type: core.Output }]
        };
        return CalendarSchedulerViewComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment = momentImported;
    var CalendarSchedulerCellComponent = (function () {
        function CalendarSchedulerCellComponent() {
            this.showActions = true;
            this.highlightSegment = new core.EventEmitter();
            this.unhighlightSegment = new core.EventEmitter();
            this.segmentClicked = new core.EventEmitter();
            this.eventClicked = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        CalendarSchedulerCellComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.title = moment(this.day.date).format('dddd L');
            };
        /**
         * @param {?} mouseEvent
         * @param {?} segment
         * @param {?} event
         * @return {?}
         */
        CalendarSchedulerCellComponent.prototype.onMouseEnter = /**
         * @param {?} mouseEvent
         * @param {?} segment
         * @param {?} event
         * @return {?}
         */
            function (mouseEvent, segment, event) {
                if (!event.isDisabled && !segment.isDisabled) {
                    this.highlightSegment.emit({ event: event });
                }
            };
        /**
         * @param {?} mouseEvent
         * @param {?} segment
         * @param {?} event
         * @return {?}
         */
        CalendarSchedulerCellComponent.prototype.onMouseLeave = /**
         * @param {?} mouseEvent
         * @param {?} segment
         * @param {?} event
         * @return {?}
         */
            function (mouseEvent, segment, event) {
                if (!event.isDisabled && !segment.isDisabled) {
                    this.unhighlightSegment.emit({ event: event });
                }
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} segment
         * @return {?}
         */
        CalendarSchedulerCellComponent.prototype.onSegmentClick = /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} segment
         * @return {?}
         */
            function (mouseEvent, segment) {
                if (mouseEvent.stopPropagation) {
                    mouseEvent.stopPropagation();
                }
                if (segment.events.length === 0) {
                    this.segmentClicked.emit({ segment: segment });
                }
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} event
         * @return {?}
         */
        CalendarSchedulerCellComponent.prototype.onEventClick = /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} event
         * @return {?}
         */
            function (mouseEvent, event) {
                if (mouseEvent.stopPropagation) {
                    mouseEvent.stopPropagation();
                }
                if (event.isClickable) {
                    this.eventClicked.emit({ event: event });
                }
            };
        CalendarSchedulerCellComponent.decorators = [
            { type: core.Component, args: [{
                        // [class.no-border]': '!day.hasBorder
                        selector: 'calendar-scheduler-cell',
                        template: "\n        <ng-template #defaultTemplate>\n            <div class=\"cal-scheduler-segments\" *ngIf=\"hour.segments.length > 0\"\n                [ngClass]=\"hour?.cssClass\"\n                [class.no-border]=\"!hour.hasBorder\">\n                <div class=\"cal-scheduler-segment\"\n                    *ngFor=\"let segment of hour.segments; let si = index\"\n                    [title]=\"title\"\n                    [ngClass]=\"segment?.cssClass\"\n                    [class.has-events]=\"segment.events.length > 0\"\n                    [class.cal-disabled]=\"segment.isDisabled\"\n                    [style.backgroundColor]=\"segment.backgroundColor\"\n                    [class.no-border]=\"!segment.hasBorder\"\n                    (mwlClick)=\"onSegmentClick($event, segment)\">\n\n                    <div class=\"cal-scheduler-events\" *ngIf=\"segment.events.length > 0\">\n                        <calendar-scheduler-event\n                            *ngFor=\"let event of segment.events\"\n                            [day]=\"day\"\n                            [hour]=\"hour\"\n                            [segment]=\"segment\"\n                            [event]=\"event\"\n                            (mouseenter)=\"onMouseEnter($event, segment, event)\"\n                            (mouseleave)=\"onMouseLeave($event, segment, event)\"\n                            [tooltipPlacement]=\"tooltipPlacement\"\n                            [showActions]=\"showActions\"\n                            [customTemplate]=\"eventTemplate\"\n                            (eventClicked)=\"onEventClick($event, event)\">\n                        </calendar-scheduler-event>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n            [ngTemplateOutletContext]=\"{\n                day: day,\n                hour: hour,\n                locale: locale,\n                tooltipPlacement: tooltipPlacement,\n                showActions: showActions,\n                eventTemplate: eventTemplate,\n                highlightSegment: highlightSegment,\n                unhighlightSegment: unhighlightSegment,\n                segmentClicked: segmentClicked,\n                eventClicked: eventClicked\n            }\">\n        </ng-template>\n    ",
                        host: {
                            'class': 'cal-scheduler-cell',
                            '[class.cal-past]': 'day.isPast',
                            '[class.cal-today]': 'day.isToday',
                            '[class.cal-future]': 'day.isFuture',
                            '[class.cal-weekend]': 'day.isWeekend',
                            '[class.cal-in-month]': 'day.inMonth',
                            '[class.cal-out-month]': '!day.inMonth',
                            '[style.backgroundColor]': 'day.backgroundColor'
                        }
                    },] },
        ];
        CalendarSchedulerCellComponent.propDecorators = {
            title: [{ type: core.Input }],
            day: [{ type: core.Input }],
            hour: [{ type: core.Input }],
            locale: [{ type: core.Input }],
            tooltipPlacement: [{ type: core.Input }],
            showActions: [{ type: core.Input }],
            customTemplate: [{ type: core.Input }],
            eventTemplate: [{ type: core.Input }],
            highlightSegment: [{ type: core.Output }],
            unhighlightSegment: [{ type: core.Output }],
            segmentClicked: [{ type: core.Output }],
            eventClicked: [{ type: core.Output }]
        };
        return CalendarSchedulerCellComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CalendarSchedulerHeaderComponent = (function () {
        function CalendarSchedulerHeaderComponent() {
            this.dayClicked = new core.EventEmitter();
        }
        CalendarSchedulerHeaderComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-header',
                        template: "\n        <ng-template #defaultTemplate>\n            <div class=\"cal-scheduler-headers\">\n                <div class=\"cal-header aside cal-header-clock align-center\">\n                    <i class=\"material-icons md-32\" style=\"margin:auto;\">schedule</i>\n                </div>\n\n                <div class=\"cal-header-cols aside\">\n                    <div\n                        class=\"cal-header\"\n                        *ngFor=\"let day of days\"\n                        [class.cal-past]=\"day.isPast\"\n                        [class.cal-today]=\"day.isToday\"\n                        [class.cal-future]=\"day.isFuture\"\n                        [class.cal-weekend]=\"day.isWeekend\"\n                        [class.cal-drag-over]=\"day.dragOver\"\n                        (mwlClick)=\"dayClicked.emit({date: day.date})\">\n                        <b>{{ day.date | calendarDate:'weekViewColumnHeader':locale }}</b><br>\n                        <span>{{ day.date | calendarDate:'weekViewColumnSubHeader':locale }}</span>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n            [ngTemplateOutletContext]=\"{days: days, locale: locale, dayClicked: dayClicked}\">\n        </ng-template>\n    "
                    },] },
        ];
        CalendarSchedulerHeaderComponent.propDecorators = {
            days: [{ type: core.Input }],
            locale: [{ type: core.Input }],
            customTemplate: [{ type: core.Input }],
            dayClicked: [{ type: core.Output }]
        };
        return CalendarSchedulerHeaderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$1 = momentImported;
    /**
     * [mwlCalendarTooltip]="event.title | calendarEventTitle:'weekTooltip':event"
     * [tooltipPlacement]="tooltipPlacement"
     */
    var CalendarSchedulerEventComponent = (function () {
        function CalendarSchedulerEventComponent(renderer) {
            this.renderer = renderer;
            this.showActions = true;
            this.eventClicked = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        CalendarSchedulerEventComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.segment.hasBorder = this.hour.hasBorder = !this.event.endsAfterSegment;
                this.title = moment$1(this.event.start).format('dddd L');
                this.checkEnableState();
            };
        /**
         * @return {?}
         */
        CalendarSchedulerEventComponent.prototype.checkEnableState = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.segment.isDisabled) {
                    this.day.hours.forEach(function (hour) {
                        hour.segments.forEach(function (segment) {
                            segment.events.filter(function (event) { return event.id === _this.event.id && dateFns.isSameDay(event.start, _this.event.start); })
                                .forEach(function (event) {
                                event.isDisabled = true;
                            });
                        });
                    });
                }
            };
        /**
         * @return {?}
         */
        CalendarSchedulerEventComponent.prototype.highlightEvent = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // let events: CalendarSchedulerEvent[] = this.day.hours
                //    .filter(h => h.segments.some(s => s.events.some(e => e.id === this.event.id)))
                //    .map(h =>
                //        h.segments.map(s =>
                //            s.events.filter(e => e.id === this.event.id)
                //        ).reduce((prev, curr) => prev.concat(curr))
                //    )
                //    .reduce((prev, curr) => prev.concat(curr));
                this.day.hours.forEach(function (hour) {
                    hour.segments.forEach(function (segment) {
                        segment.events.filter(function (event) { return event.id === _this.event.id && dateFns.isSameDay(event.start, _this.event.start); })
                            .forEach(function (event) {
                            event.isHovered = true;
                        });
                    });
                });
            };
        /**
         * @return {?}
         */
        CalendarSchedulerEventComponent.prototype.unhighlightEvent = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.day.hours.forEach(function (hour) {
                    hour.segments.forEach(function (segment) {
                        segment.events.filter(function (event) { return event.id === _this.event.id && dateFns.isSameDay(event.start, _this.event.start); })
                            .forEach(function (event) {
                            event.isHovered = false;
                        });
                    });
                });
            };
        CalendarSchedulerEventComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-event',
                        template: "\n        <ng-template #defaultTemplate>\n            <div\n                class=\"cal-scheduler-event\"\n                [title]=\"title\"\n                [class.cal-starts-within-segment]=\"!event.startsBeforeSegment\"\n                [class.cal-ends-within-segment]=\"!event.endsAfterSegment\"\n                [class.hovered]=\"event.isHovered\"\n                [class.cal-disabled]=\"event.isDisabled || segment.isDisabled\"\n                [class.cal-not-clickable]=\"!event.isClickable\"\n                [style.backgroundColor]=\"event.color.primary\"\n                [ngClass]=\"event?.cssClass\"\n                (mwlClick)=\"eventClicked.emit({event: event})\"\n                (mouseenter)=\"highlightEvent()\"\n                (mouseleave)=\"unhighlightEvent()\">\n                <calendar-scheduler-event-title *ngIf=\"!event.startsBeforeSegment\"\n                    [event]=\"event\"\n                    view=\"week\">\n                </calendar-scheduler-event-title>\n                <calendar-scheduler-event-content *ngIf=\"!event.startsBeforeSegment\"\n                    [event]=\"event\">\n                </calendar-scheduler-event-content>\n                <calendar-scheduler-event-actions [event]=\"event\" *ngIf=\"showActions && event.isClickable && !event.endsAfterSegment\"></calendar-scheduler-event-actions>\n                <calendar-scheduler-event-actions [event]=\"event\" *ngIf=\"showActions && event.isDisabled && !event.endsAfterSegment\"></calendar-scheduler-event-actions>\n            </div>\n        </ng-template>\n        <ng-template\n            [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n            [ngTemplateOutletContext]=\"{\n                day: day,\n                hour: hour,\n                segment: segment,\n                event: event,\n                tooltipPlacement: tooltipPlacement,\n                showActions: showActions,\n                customTemplate: customTemplate,\n                eventClicked: eventClicked\n            }\">\n        </ng-template>\n    ",
                        host: {
                            'class': 'cal-scheduler-event-container'
                        }
                    },] },
        ];
        /** @nocollapse */
        CalendarSchedulerEventComponent.ctorParameters = function () {
            return [
                { type: core.Renderer2 }
            ];
        };
        CalendarSchedulerEventComponent.propDecorators = {
            title: [{ type: core.Input }],
            day: [{ type: core.Input }],
            hour: [{ type: core.Input }],
            segment: [{ type: core.Input }],
            event: [{ type: core.Input }],
            tooltipPlacement: [{ type: core.Input }],
            showActions: [{ type: core.Input }],
            customTemplate: [{ type: core.Input }],
            eventClicked: [{ type: core.Output }]
        };
        return CalendarSchedulerEventComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CalendarSchedulerEventTitleComponent = (function () {
        function CalendarSchedulerEventTitleComponent() {
        }
        CalendarSchedulerEventTitleComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-event-title',
                        template: "\n        <div\n            class=\"cal-scheduler-event-title\"\n            [innerHTML]=\"event.title | schedulerEventTitle:view:event\">\n        </div>\n        <div *ngIf=\"event.status\"\n            class=\"cal-scheduler-event-status\"\n            [class.ok]=\"event.status === 'ok'\"\n            [class.warning]=\"event.status === 'warning'\"\n            [class.danger]=\"event.status === 'danger'\">\n        </div>\n    ",
                        host: {
                            'class': 'cal-scheduler-event-title-container'
                        }
                    },] },
        ];
        CalendarSchedulerEventTitleComponent.propDecorators = {
            event: [{ type: core.Input }],
            view: [{ type: core.Input }]
        };
        return CalendarSchedulerEventTitleComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CalendarSchedulerEventContentComponent = (function () {
        function CalendarSchedulerEventContentComponent() {
        }
        CalendarSchedulerEventContentComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-event-content',
                        template: "\n        <div *ngIf=\"event.content\"\n            class=\"cal-scheduler-event-content\"\n            [innerHTML]=\"event.content\">\n        </div>\n    ",
                        host: {
                            'class': 'cal-scheduler-event-content-container'
                        }
                    },] },
        ];
        CalendarSchedulerEventContentComponent.propDecorators = {
            event: [{ type: core.Input }]
        };
        return CalendarSchedulerEventContentComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CalendarSchedulerEventActionsComponent = (function () {
        function CalendarSchedulerEventActionsComponent() {
            this.actions = [];
        }
        /**
         * @return {?}
         */
        CalendarSchedulerEventActionsComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.actions = this.event.isDisabled ?
                    this.event.actions.filter(function (a) { return !a.when || a.when === 'disabled'; }) :
                    this.event.actions.filter(function (a) { return !a.when || a.when === 'enabled'; });
            };
        /**
         * @hidden
         */
        /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} action
         * @param {?} event
         * @return {?}
         */
        CalendarSchedulerEventActionsComponent.prototype.onActionClick = /**
         * @hidden
         * @param {?} mouseEvent
         * @param {?} action
         * @param {?} event
         * @return {?}
         */
            function (mouseEvent, action, event) {
                if (mouseEvent.stopPropagation) {
                    mouseEvent.stopPropagation();
                }
                action.onClick(event);
            };
        CalendarSchedulerEventActionsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'calendar-scheduler-event-actions',
                        template: "\n        <span *ngIf=\"event.actions\" class=\"cal-scheduler-event-actions\">\n            <a\n                class=\"cal-scheduler-event-action\"\n                href=\"javascript:;\"\n                *ngFor=\"let action of actions\"\n                (mwlClick)=\"onActionClick($event, action, event)\"\n                [ngClass]=\"action.cssClass\"\n                [innerHtml]=\"action.label\"\n                [title]=\"action.title\">\n            </a>\n        </span>\n    ",
                        host: {
                            'class': 'cal-scheduler-event-actions-container'
                        }
                    },] },
        ];
        CalendarSchedulerEventActionsComponent.propDecorators = {
            event: [{ type: core.Input }]
        };
        return CalendarSchedulerEventActionsComponent;
    }());

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (b.hasOwnProperty(p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SchedulerEventTitleFormatter = (function (_super) {
        __extends(SchedulerEventTitleFormatter, _super);
        function SchedulerEventTitleFormatter() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return SchedulerEventTitleFormatter;
    }(angularCalendar.CalendarEventTitleFormatter));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SchedulerEventTitlePipe = (function () {
        function SchedulerEventTitlePipe(schedulerEventTitle) {
            this.schedulerEventTitle = schedulerEventTitle;
        }
        /**
         * @param {?} title
         * @param {?} titleType
         * @param {?} event
         * @return {?}
         */
        SchedulerEventTitlePipe.prototype.transform = /**
         * @param {?} title
         * @param {?} titleType
         * @param {?} event
         * @return {?}
         */
            function (title, titleType, event) {
                return this.schedulerEventTitle[titleType](event);
            };
        SchedulerEventTitlePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'schedulerEventTitle'
                    },] },
        ];
        /** @nocollapse */
        SchedulerEventTitlePipe.ctorParameters = function () {
            return [
                { type: SchedulerEventTitleFormatter }
            ];
        };
        return SchedulerEventTitlePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SchedulerDateFormatter = (function (_super) {
        __extends(SchedulerDateFormatter, _super);
        function SchedulerDateFormatter() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * The time formatting down the left hand side of the day view
         * @param {?} __0
         * @return {?}
         */
        SchedulerDateFormatter.prototype.dayViewHour = /**
         * The time formatting down the left hand side of the day view
         * @param {?} __0
         * @return {?}
         */
            function (_a) {
                var date = _a.date, locale = _a.locale;
                return new Intl.DateTimeFormat(locale, { hour: 'numeric', minute: 'numeric' }).format(date);
            };
        /**
         * @param {?} __0
         * @return {?}
         */
        SchedulerDateFormatter.prototype.weekViewTitle = /**
         * @param {?} __0
         * @return {?}
         */
            function (_a) {
                var date = _a.date, locale = _a.locale;
                /** @type {?} */
                var year = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(date);
                /** @type {?} */
                var month = new Intl.DateTimeFormat(locale, { month: 'short' }).format(date);
                /** @type {?} */
                var firstDay = date.getDate();
                if (date.getDay() === 0) {
                    firstDay += 1;
                }
                /** @type {?} */
                var lastDay = firstDay + 6;
                /** @type {?} */
                var firstDayMonth = month;
                /** @type {?} */
                var lastDayMonth = month;
                /** @type {?} */
                var firstDayYear = year;
                /** @type {?} */
                var lastDayYear = year;
                if (firstDay < 1) {
                    /** @type {?} */
                    var prevMonthDate = new Date(date.getFullYear(), date.getMonth() - 1);
                    firstDayMonth = new Intl.DateTimeFormat(locale, { month: 'short' }).format(prevMonthDate);
                    /** @type {?} */
                    var daysInPrevMonth = this.daysInMonth(prevMonthDate);
                    /** @type {?} */
                    var i = 0;
                    /** @type {?} */
                    var prevMonthDay = daysInPrevMonth;
                    for (i = 0; i < Math.abs(firstDay); i++) {
                        prevMonthDay--;
                    }
                    firstDay = prevMonthDay;
                    /** @type {?} */
                    var prevMonthYear = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(prevMonthDate);
                    if (Number(prevMonthYear) < Number(year)) {
                        firstDayYear = prevMonthYear;
                    }
                }
                /** @type {?} */
                var daysInMonth = this.daysInMonth(date);
                if (lastDay > daysInMonth) {
                    /** @type {?} */
                    var nextMonthDate = new Date(date.getFullYear(), date.getMonth() + 1);
                    lastDayMonth = new Intl.DateTimeFormat(locale, { month: 'short' }).format(nextMonthDate);
                    /** @type {?} */
                    var i = 0;
                    /** @type {?} */
                    var nextMonthDay = 0;
                    for (i = 0; i < (lastDay - daysInMonth); i++) {
                        nextMonthDay++;
                    }
                    lastDay = nextMonthDay;
                    /** @type {?} */
                    var nextMonthYear = new Intl.DateTimeFormat(locale, { year: 'numeric' }).format(nextMonthDate);
                    if (Number(nextMonthYear) > Number(year)) {
                        lastDayYear = nextMonthYear;
                    }
                }
                return "" + firstDay + (firstDayMonth !== lastDayMonth ? ' ' + firstDayMonth : '') +
                    (firstDayYear !== lastDayYear ? ' ' + firstDayYear : '') +
                    (" - " + lastDay + " " + lastDayMonth + " " + lastDayYear);
            };
        /**
         * @param {?} anyDateInMonth
         * @return {?}
         */
        SchedulerDateFormatter.prototype.daysInMonth = /**
         * @param {?} anyDateInMonth
         * @return {?}
         */
            function (anyDateInMonth) {
                return new Date(anyDateInMonth.getFullYear(), anyDateInMonth.getMonth() + 1, 0).getDate();
            };
        return SchedulerDateFormatter;
    }(angularCalendar.CalendarDateFormatter));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @param {?} period
     * @param {?} date
     * @param {?} amount
     * @return {?}
     */
    function addPeriod(period, date, amount) {
        return {
            day: dateFns.addDays,
            week: dateFns.addWeeks,
            month: dateFns.addMonths
        }[period](date, amount);
    }
    /**
     * @param {?} period
     * @param {?} date
     * @param {?} amount
     * @return {?}
     */
    function subPeriod(period, date, amount) {
        return {
            day: dateFns.subDays,
            week: dateFns.subWeeks,
            month: dateFns.subMonths
        }[period](date, amount);
    }
    /**
     * @param {?} period
     * @param {?} date
     * @return {?}
     */
    function startOfPeriod(period, date) {
        return {
            day: dateFns.startOfDay,
            week: dateFns.startOfWeek,
            month: dateFns.startOfMonth
        }[period](date);
    }
    /**
     * @param {?} period
     * @param {?} date
     * @return {?}
     */
    function endOfPeriod(period, date) {
        return {
            day: dateFns.endOfDay,
            week: dateFns.endOfWeek,
            month: dateFns.endOfMonth
        }[period](date);
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var SCHEDULER_CONFIG = new core.InjectionToken('SchedulerConfig');
    /**
     * @param {?} config
     * @return {?}
     */
    function provideAuthConfig(config) {
        return new SchedulerConfig(config);
    }
    /**
     * The main module of this library. Example usage:
     *
     * ```typescript
     * import { CalenderModule } from 'angular-calendar';
     * import { SchedulerModule } from 'angular-calendar-scheduler';
     *
     * \@NgModule({
     *   imports: [
     *     CalenderModule.forRoot(),
     *     SchedulerModule.forRoot({ locale: 'en', headerDateFormat: 'daysRange' })
     *   ]
     * })
     * class MyModule {}
     * ```
     *
     */
    var SchedulerModule = (function () {
        function SchedulerModule() {
        }
        /**
         * @param {?=} config
         * @return {?}
         */
        SchedulerModule.forRoot = /**
         * @param {?=} config
         * @return {?}
         */
            function (config) {
                return {
                    ngModule: SchedulerModule,
                    providers: [
                        { provide: SCHEDULER_CONFIG, useValue: config },
                        { provide: SchedulerConfig, useFactory: provideAuthConfig, deps: [SCHEDULER_CONFIG] }
                    ]
                };
            };
        SchedulerModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            angularCalendar.CalendarModule.forRoot()
                        ],
                        declarations: [
                            CalendarSchedulerViewComponent,
                            CalendarSchedulerCellComponent,
                            CalendarSchedulerHeaderComponent,
                            CalendarSchedulerEventComponent,
                            CalendarSchedulerEventTitleComponent,
                            CalendarSchedulerEventContentComponent,
                            CalendarSchedulerEventActionsComponent,
                            SchedulerEventTitlePipe
                        ],
                        providers: [
                            SchedulerEventTitlePipe,
                            SchedulerEventTitleFormatter,
                            SchedulerDateFormatter
                        ],
                        exports: [
                            CalendarSchedulerViewComponent,
                            CalendarSchedulerCellComponent,
                            CalendarSchedulerHeaderComponent,
                            CalendarSchedulerEventComponent,
                            CalendarSchedulerEventTitleComponent,
                            CalendarSchedulerEventContentComponent,
                            CalendarSchedulerEventActionsComponent
                        ]
                    },] },
        ];
        return SchedulerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.SCHEDULER_CONFIG = SCHEDULER_CONFIG;
    exports.provideAuthConfig = provideAuthConfig;
    exports.SchedulerModule = SchedulerModule;
    exports.CalendarSchedulerViewComponent = CalendarSchedulerViewComponent;
    exports.SchedulerDateFormatter = SchedulerDateFormatter;
    exports.SchedulerEventTitleFormatter = SchedulerEventTitleFormatter;
    exports.SchedulerEventTitlePipe = SchedulerEventTitlePipe;
    exports.addPeriod = addPeriod;
    exports.subPeriod = subPeriod;
    exports.startOfPeriod = startOfPeriod;
    exports.endOfPeriod = endOfPeriod;
    exports.ɵb = CalendarSchedulerCellComponent;
    exports.ɵg = CalendarSchedulerEventActionsComponent;
    exports.ɵf = CalendarSchedulerEventContentComponent;
    exports.ɵe = CalendarSchedulerEventTitleComponent;
    exports.ɵd = CalendarSchedulerEventComponent;
    exports.ɵc = CalendarSchedulerHeaderComponent;
    exports.ɵa = SchedulerConfig;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIudW1kLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyLWNhbGVuZGFyLXNjaGVkdWxlci9tb2R1bGVzL3NjaGVkdWxlci9zY2hlZHVsZXItY29uZmlnLnRzIiwibmc6Ly9hbmd1bGFyLWNhbGVuZGFyLXNjaGVkdWxlci9tb2R1bGVzL3NjaGVkdWxlci9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2NhbGVuZGFyLXNjaGVkdWxlci1jZWxsLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIvbW9kdWxlcy9zY2hlZHVsZXIvY2FsZW5kYXItc2NoZWR1bGVyLWhlYWRlci5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC10aXRsZS5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC1jb250ZW50LmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIvbW9kdWxlcy9zY2hlZHVsZXIvY2FsZW5kYXItc2NoZWR1bGVyLWV2ZW50LWFjdGlvbnMuY29tcG9uZW50LnRzIixudWxsLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2Zvcm1hdHRlcnMvc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWZvcm1hdHRlci5wcm92aWRlci50cyIsIm5nOi8vYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIvbW9kdWxlcy9zY2hlZHVsZXIvcGlwZXMvc2NoZWR1bGVyLWV2ZW50LXRpdGxlLnBpcGUudHMiLCJuZzovL2FuZ3VsYXItY2FsZW5kYXItc2NoZWR1bGVyL21vZHVsZXMvc2NoZWR1bGVyL2Zvcm1hdHRlcnMvc2NoZWR1bGVyLWRhdGUtZm9ybWF0dGVyLnByb3ZpZGVyLnRzIiwibmc6Ly9hbmd1bGFyLWNhbGVuZGFyLXNjaGVkdWxlci9tb2R1bGVzL3NjaGVkdWxlci9jYWxlbmRhci11dGlscy50cyIsIm5nOi8vYW5ndWxhci1jYWxlbmRhci1zY2hlZHVsZXIvbW9kdWxlcy9zY2hlZHVsZXIvc2NoZWR1bGVyLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG4vKipcclxuICogQXV0aCBjb25maWd1cmF0aW9uLlxyXG4gKi9cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyQ29uZmlnIHtcclxuICAgIGxvY2FsZT86IHN0cmluZyA9ICdlbic7XHJcbiAgICBoZWFkZXJEYXRlRm9ybWF0PzogJ3dlZWtOdW1iZXInIHwgJ2RheXNSYW5nZScgPSAnZGF5c1JhbmdlJztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IFNjaGVkdWxlckNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gdXNlPFQ+KHNvdXJjZTogVCwgZGVmYXVsdFZhbHVlOiBUKTogVCB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25maWcgJiYgc291cmNlICE9PSB1bmRlZmluZWQgPyBzb3VyY2UgOiBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvY2FsZSA9IHVzZShjb25maWcubG9jYWxlLCB0aGlzLmxvY2FsZSk7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJEYXRlRm9ybWF0ID0gdXNlKGNvbmZpZy5oZWFkZXJEYXRlRm9ybWF0LCB0aGlzLmhlYWRlckRhdGVGb3JtYXQpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgICBDb21wb25lbnQsXHJcbiAgICBJbnB1dCxcclxuICAgIE91dHB1dCxcclxuICAgIEV2ZW50RW1pdHRlcixcclxuICAgIENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgT25DaGFuZ2VzLFxyXG4gICAgT25Jbml0LFxyXG4gICAgT25EZXN0cm95LFxyXG4gICAgTE9DQUxFX0lELFxyXG4gICAgSW5qZWN0LFxyXG4gICAgVGVtcGxhdGVSZWYsXHJcbiAgICBWaWV3RW5jYXBzdWxhdGlvblxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHtcclxuICAgIEV2ZW50Q29sb3IsXHJcbiAgICBEYXlWaWV3SG91cixcclxuICAgIERheVZpZXdIb3VyU2VnbWVudFxyXG59IGZyb20gJ2NhbGVuZGFyLXV0aWxzJztcclxuaW1wb3J0IHtcclxuICAgIHN0YXJ0T2ZNaW51dGUsXHJcbiAgICBzdGFydE9mRGF5LFxyXG4gICAgc3RhcnRPZldlZWssXHJcbiAgICBlbmRPZkRheSxcclxuICAgIGVuZE9mV2VlayxcclxuICAgIGFkZE1pbnV0ZXMsXHJcbiAgICBhZGRIb3VycyxcclxuICAgIGFkZERheXMsXHJcbiAgICBzdWJTZWNvbmRzLFxyXG4gICAgc2V0TWludXRlcyxcclxuICAgIHNldEhvdXJzLFxyXG4gICAgc2V0RGF0ZSxcclxuICAgIHNldE1vbnRoLFxyXG4gICAgc2V0WWVhcixcclxuICAgIGlzU2FtZVNlY29uZCxcclxuICAgIGlzU2FtZURheSxcclxuICAgIGdldERheVxyXG59IGZyb20gJ2RhdGUtZm5zJztcclxuaW1wb3J0IHsgU2NoZWR1bGVyQ29uZmlnIH0gZnJvbSAnLi9zY2hlZHVsZXItY29uZmlnJztcclxuXHJcblxyXG5jb25zdCBXRUVLRU5EX0RBWV9OVU1CRVJTID0gWzAsIDZdO1xyXG5jb25zdCBEQVlTX0lOX1dFRUsgPSA3O1xyXG5jb25zdCBIT1VSU19JTl9EQVkgPSAyNDtcclxuY29uc3QgTUlOVVRFU19JTl9IT1VSID0gNjA7XHJcbmNvbnN0IFNFQ09ORFNfSU5fREFZID0gNjAgKiA2MCAqIDI0O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2hlZHVsZXJWaWV3IHtcclxuICAgIGRheXM6IFNjaGVkdWxlclZpZXdEYXlbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2hlZHVsZXJWaWV3RGF5IHtcclxuICAgIGRhdGU6IERhdGU7XHJcbiAgICBpc1Bhc3Q6IGJvb2xlYW47XHJcbiAgICBpc1RvZGF5OiBib29sZWFuO1xyXG4gICAgaXNGdXR1cmU6IGJvb2xlYW47XHJcbiAgICBpc1dlZWtlbmQ6IGJvb2xlYW47XHJcbiAgICBpbk1vbnRoOiBib29sZWFuO1xyXG4gICAgZHJhZ092ZXI6IGJvb2xlYW47XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBjc3NDbGFzcz86IHN0cmluZztcclxuICAgIGhvdXJzOiBTY2hlZHVsZXJWaWV3SG91cltdO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxlclZpZXdIb3VyIHtcclxuICAgIGhvdXI6IERheVZpZXdIb3VyO1xyXG4gICAgZGF0ZTogRGF0ZTtcclxuICAgIHNlZ21lbnRzOiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnRbXTtcclxuICAgIGlzUGFzdDogYm9vbGVhbjtcclxuICAgIGlzRnV0dXJlOiBib29sZWFuO1xyXG4gICAgaGFzQm9yZGVyOiBib29sZWFuO1xyXG4gICAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xyXG4gICAgY3NzQ2xhc3M/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50IHtcclxuICAgIHNlZ21lbnQ6IERheVZpZXdIb3VyU2VnbWVudDtcclxuICAgIGRhdGU6IERhdGU7XHJcbiAgICBldmVudHM6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRbXTtcclxuICAgIGlzUGFzdDogYm9vbGVhbjtcclxuICAgIGlzRnV0dXJlOiBib29sZWFuO1xyXG4gICAgaXNEaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIGhhc0JvcmRlcjogYm9vbGVhbjtcclxuICAgIGJhY2tncm91bmRDb2xvcj86IHN0cmluZztcclxuICAgIGNzc0NsYXNzPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhbGVuZGFyU2NoZWR1bGVyRXZlbnQge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHN0YXJ0OiBEYXRlO1xyXG4gICAgZW5kPzogRGF0ZTtcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBjb250ZW50Pzogc3RyaW5nO1xyXG4gICAgY29sb3I6IEV2ZW50Q29sb3I7XHJcbiAgICBhY3Rpb25zPzogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudEFjdGlvbltdO1xyXG4gICAgc3RhdHVzPzogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFN0YXR1cztcclxuICAgIGNzc0NsYXNzPzogc3RyaW5nO1xyXG4gICAgc3RhcnRzQmVmb3JlU2VnbWVudD86IGJvb2xlYW47XHJcbiAgICBlbmRzQWZ0ZXJTZWdtZW50PzogYm9vbGVhbjtcclxuICAgIGlzSG92ZXJlZD86IGJvb2xlYW47XHJcbiAgICBpc0Rpc2FibGVkPzogYm9vbGVhbjtcclxuICAgIGlzQ2xpY2thYmxlPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFN0YXR1cyA9ICdvaycgfCAnd2FybmluZycgfCAnZGFuZ2VyJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudEFjdGlvbiB7XHJcbiAgICB3aGVuPzogJ2VuYWJsZWQnIHwgJ2Rpc2FibGVkJztcclxuICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgY3NzQ2xhc3M/OiBzdHJpbmc7XHJcbiAgICBvbkNsaWNrKGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KTogdm9pZDtcclxufVxyXG5cclxuIC8vIGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vc25pcHBldHMvY3NzL2EtZ3VpZGUtdG8tZmxleGJveC9cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2NhbGVuZGFyLXNjaGVkdWxlci12aWV3JyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItdmlld1wiICN3ZWVrVmlld0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPGNhbGVuZGFyLXNjaGVkdWxlci1oZWFkZXJcclxuICAgICAgICAgICAgICAgIFtkYXlzXT1cImhlYWRlckRheXNcIlxyXG4gICAgICAgICAgICAgICAgW2xvY2FsZV09XCJsb2NhbGVcIlxyXG4gICAgICAgICAgICAgICAgW2N1c3RvbVRlbXBsYXRlXT1cImhlYWRlclRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgIChkYXlDbGlja2VkKT1cImRheUNsaWNrZWQuZW1pdCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgIDwvY2FsZW5kYXItc2NoZWR1bGVyLWhlYWRlcj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ob3VyLXJvd3MgYXNpZGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ob3VyIGFsaWduLWNlbnRlciBob3Jpem9udGFsXCIgKm5nRm9yPVwibGV0IGhvdXIgb2YgaG91cnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItaG91ci1zZWdtZW50XCIgKm5nRm9yPVwibGV0IHNlZ21lbnQgb2YgaG91ci5zZWdtZW50c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgc2VnbWVudC5kYXRlIHwgY2FsZW5kYXJEYXRlOidkYXlWaWV3SG91cic6bG9jYWxlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLXNjaGVkdWxlci1jb2xzIGFzaWRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItY29sXCIgKm5nRm9yPVwibGV0IGRheSBvZiB2aWV3LmRheXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNhbGVuZGFyLXNjaGVkdWxlci1jZWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgaG91ciBvZiBkYXkuaG91cnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiZGF5Py5jc3NDbGFzc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF5XT1cImRheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaG91cl09XCJob3VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtsb2NhbGVdPVwibG9jYWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0b29sdGlwUGxhY2VtZW50XT1cInRvb2x0aXBQbGFjZW1lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Nob3dBY3Rpb25zXT1cInNob3dBY3Rpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjdXN0b21UZW1wbGF0ZV09XCJjZWxsVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2V2ZW50VGVtcGxhdGVdPVwiZXZlbnRUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGF5Q2xpY2tlZC5lbWl0KHtkYXRlOiBkYXl9KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaGlnaGxpZ2h0U2VnbWVudCk9XCJ0b2dnbGVTZWdtZW50SGlnaGxpZ2h0KCRldmVudC5ldmVudCwgdHJ1ZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVuaGlnaGxpZ2h0U2VnbWVudCk9XCJ0b2dnbGVTZWdtZW50SGlnaGxpZ2h0KCRldmVudC5ldmVudCwgZmFsc2UpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzZWdtZW50Q2xpY2tlZCk9XCJzZWdtZW50Q2xpY2tlZC5lbWl0KHtzZWdtZW50OiAkZXZlbnQuc2VnbWVudH0pXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChldmVudENsaWNrZWQpPVwiZXZlbnRDbGlja2VkLmVtaXQoe2V2ZW50OiAkZXZlbnQuZXZlbnR9KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2NhbGVuZGFyLXNjaGVkdWxlci1jZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYCxcclxuICAgIHN0eWxlczogW2AuY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnN7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3cgd3JhcDttYXJnaW4tYm90dG9tOjNweDtib3JkZXI6MXB4IHNvbGlkICNlMWUxZTF9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlci1oZWFkZXJzIC5hc2lkZXtmbGV4OjEgMH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnMgLmFzaWRlLmNhbC1oZWFkZXItY2xvY2t7bWF4LXdpZHRoOjVlbX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnMgLmNhbC1oZWFkZXJ7ZmxleDoxO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6NXB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnMgLmNhbC1oZWFkZXI6bm90KDpsYXN0LWNoaWxkKXtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNlMWUxZTF9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlci1oZWFkZXJzIC5jYWwtaGVhZGVyOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VkZWRlZH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnMgLmNhbC1oZWFkZXIuY2FsLXRvZGF5e2JhY2tncm91bmQtY29sb3I6I2U4ZmRlN30uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyLWhlYWRlcnMgLmNhbC1oZWFkZXIuY2FsLXdlZWtlbmQgc3Bhbntjb2xvcjojOGIwMDAwfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXItaGVhZGVycyAuY2FsLWhlYWRlciBzcGFue2ZvbnQtd2VpZ2h0OjQwMDtvcGFjaXR5Oi41fS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIsLmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlci1oZWFkZXJzIC5jYWwtaGVhZGVyLWNvbHN7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3cgd3JhcH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5hc2lkZXtmbGV4OjEgMH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5hc2lkZS5jYWwtc2NoZWR1bGVyLWhvdXItcm93c3ttYXgtd2lkdGg6NWVtfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItaG91ci1yb3dze3dpZHRoOmF1dG8haW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgI2UxZTFlMTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmV9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1ob3VyLXJvd3MgLmNhbC1zY2hlZHVsZXItaG91cntkaXNwbGF5OmZsZXg7aGVpZ2h0OjcuMjVlbX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWhvdXItcm93cyAuY2FsLXNjaGVkdWxlci1ob3VyOm50aC1jaGlsZChvZGQpe2JhY2tncm91bmQtY29sb3I6I2ZhZmFmYX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWhvdXItcm93cyAuY2FsLXNjaGVkdWxlci1ob3VyOm5vdCg6bGFzdC1jaGlsZCl7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UxZTFlMX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWhvdXItcm93cyAuY2FsLXNjaGVkdWxlci1ob3VyIC5jYWwtc2NoZWR1bGVyLXRpbWV7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpjb2x1bW4gd3JhcDt3aWR0aDoxMDAlO2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LWFsaWduOmNlbnRlcn0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWhvdXItcm93cyAuY2FsLXNjaGVkdWxlci1ob3VyIC5jYWwtc2NoZWR1bGVyLXRpbWUgLmNhbC1zY2hlZHVsZXItaG91ci1zZWdtZW50e2ZsZXg6MSAwfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItaG91ci1yb3dzIC5jYWwtc2NoZWR1bGVyLWhvdXIgLmNhbC1zY2hlZHVsZXItdGltZSAuY2FsLXNjaGVkdWxlci1ob3VyLXNlZ21lbnQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWRlZGVkfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItaG91ci1yb3dzIC5jYWwtc2NoZWR1bGVyLWhvdXIgLmNhbC1zY2hlZHVsZXItdGltZSAuY2FsLXNjaGVkdWxlci1ob3VyLXNlZ21lbnQ6bm90KDpsYXN0LWNoaWxkKXtib3JkZXItYm90dG9tOnRoaW4gZGFzaGVkICNlMWUxZTF9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xze2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IHdyYXA7Ym9yZGVyLXRvcDoxcHggc29saWQgI2UxZTFlMX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29se2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uIHdyYXA7ZmxleDoxIDA7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCAjZTFlMWUxfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbHtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OmNvbHVtbiB3cmFwO2ZsZXg6MSAwfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbC5jYWwtdG9kYXl7YmFja2dyb3VuZC1jb2xvcjojZThmZGU3fS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbC5jYWwtZGlzYWJsZWR7YmFja2dyb3VuZC1jb2xvcjojZWVlO3BvaW50ZXItZXZlbnRzOm5vbmV9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsLmNhbC1kaXNhYmxlZCAuY2FsLXNjaGVkdWxlci1ldmVudHN7ZmlsdGVyOm9wYWNpdHkoNTAlKTstd2Via2l0LWZpbHRlcjpvcGFjaXR5KDUwJSl9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRze2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uIHdyYXA7ZmxleDoxIDA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UxZTFlMX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMubm8tYm9yZGVye2JvcmRlci1ib3R0b206MCFpbXBvcnRhbnR9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzLmNhbC1kaXNhYmxlZHtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7cG9pbnRlci1ldmVudHM6bm9uZX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMuY2FsLWRpc2FibGVkIC5jYWwtc2NoZWR1bGVyLWV2ZW50e2ZpbHRlcjpvcGFjaXR5KDUwJSk7LXdlYmtpdC1maWx0ZXI6b3BhY2l0eSg1MCUpfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50e2ZsZXg6MSAwO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uIHdyYXB9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQ6bm90KC5oYXMtZXZlbnRzKTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZGVkZWR9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQ6bm90KDpsYXN0LWNoaWxkKXtib3JkZXItYm90dG9tOnRoaW4gZGFzaGVkICNlMWUxZTF9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQubm8tYm9yZGVye2JvcmRlci1ib3R0b206MCFpbXBvcnRhbnR9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQuY2FsLWRpc2FibGVke2JhY2tncm91bmQtY29sb3I6I2VlZTtwb2ludGVyLWV2ZW50czpub25lfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cywuY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVye2ZsZXg6MSAwO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uIHdyYXB9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudHtmbGV4OjEgMDtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OnJvdyB3cmFwO3BhZGRpbmc6MCAxMHB4O2ZvbnQtc2l6ZToxMnB4O21hcmdpbjowIDJweDtsaW5lLWhlaWdodDozMHB4O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuMnM7ZmlsdGVyOmJyaWdodG5lc3MoMTAwJSk7LXdlYmtpdC1maWx0ZXI6YnJpZ2h0bmVzcygxMDAlKTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cyAuY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQuY2FsLXN0YXJ0cy13aXRoaW4tc2VnbWVudHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOi4zZW07Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6LjNlbTttYXJnaW4tdG9wOjJweH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50LmNhbC1lbmRzLXdpdGhpbi1zZWdtZW50e2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6LjNlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouM2VtO21hcmdpbi1ib3R0b206MnB4fS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cyAuY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQuY2FsLWRpc2FibGVke2JhY2tncm91bmQtY29sb3I6Z3JheSFpbXBvcnRhbnQ7ZmlsdGVyOmdyYXlzY2FsZSgxMDAlKTstd2Via2l0LWZpbHRlcjpncmF5c2NhbGUoMTAwJSl9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC5jYWwtbm90LWNsaWNrYWJsZXtjdXJzb3I6bm90LWFsbG93ZWQhaW1wb3J0YW50fS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cyAuY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQ6bm90KC5jYWwtZGlzYWJsZWQpLmhvdmVyZWQsLmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudDpub3QoLmNhbC1kaXNhYmxlZCk6aG92ZXJ7Y3Vyc29yOnBvaW50ZXI7ZmlsdGVyOmJyaWdodG5lc3MoODAlKTstd2Via2l0LWZpbHRlcjpicmlnaHRuZXNzKDgwJSl9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudCAuY2FsLXNjaGVkdWxlci1ldmVudC10aXRsZS1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC10aXRsZXtmb250LXNpemU6MTZweDtmb250LXdlaWdodDo3MDB9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudCAuY2FsLXNjaGVkdWxlci1ldmVudC10aXRsZS1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQtc3RhdHVze3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyNSU7cmlnaHQ6MSU7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDtiYWNrZ3JvdW5kOmdyZXk7Ym9yZGVyLXJhZGl1czo1MHB4O2JvcmRlcjoxcHggc29saWQgIzAwMH0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC1zdGF0dXMub2t7YmFja2dyb3VuZDpncmVlbn0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC1zdGF0dXMud2FybmluZ3tiYWNrZ3JvdW5kOm9yYW5nZX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC1zdGF0dXMuZGFuZ2Vye2JhY2tncm91bmQ6cmVkfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cyAuY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGVudC1jb250YWluZXJ7d2lkdGg6MTAwJX0uY2FsLXNjaGVkdWxlci12aWV3IC5jYWwtc2NoZWR1bGVyIC5jYWwtc2NoZWR1bGVyLWNvbHMgLmNhbC1zY2hlZHVsZXItY29sIC5jYWwtc2NoZWR1bGVyLWNlbGwgLmNhbC1zY2hlZHVsZXItc2VnbWVudHMgLmNhbC1zY2hlZHVsZXItc2VnbWVudCAuY2FsLXNjaGVkdWxlci1ldmVudHMgLmNhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyIC5jYWwtc2NoZWR1bGVyLWV2ZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50LWFjdGlvbnMtY29udGFpbmVye2ZsZXg6MSAwO3Bvc2l0aW9uOnJlbGF0aXZlfS5jYWwtc2NoZWR1bGVyLXZpZXcgLmNhbC1zY2hlZHVsZXIgLmNhbC1zY2hlZHVsZXItY29scyAuY2FsLXNjaGVkdWxlci1jb2wgLmNhbC1zY2hlZHVsZXItY2VsbCAuY2FsLXNjaGVkdWxlci1zZWdtZW50cyAuY2FsLXNjaGVkdWxlci1zZWdtZW50IC5jYWwtc2NoZWR1bGVyLWV2ZW50cyAuY2FsLXNjaGVkdWxlci1ldmVudC1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQgLmNhbC1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucy1jb250YWluZXIgLmNhbC1zY2hlZHVsZXItZXZlbnQtYWN0aW9uc3twb3NpdGlvbjphYnNvbHV0ZTtib3R0b206NXB4O3JpZ2h0OjB9LmNhbC1zY2hlZHVsZXItdmlldyAuY2FsLXNjaGVkdWxlciAuY2FsLXNjaGVkdWxlci1jb2xzIC5jYWwtc2NoZWR1bGVyLWNvbCAuY2FsLXNjaGVkdWxlci1jZWxsIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnRzIC5jYWwtc2NoZWR1bGVyLXNlZ21lbnQgLmNhbC1zY2hlZHVsZXItZXZlbnRzIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudCAuY2FsLXNjaGVkdWxlci1ldmVudC1hY3Rpb25zLWNvbnRhaW5lciAuY2FsLXNjaGVkdWxlci1ldmVudC1hY3Rpb25zIC5jYWwtc2NoZWR1bGVyLWV2ZW50LWFjdGlvbnt0ZXh0LWRlY29yYXRpb246bm9uZX1gXSxcclxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcclxufSlcclxuZXhwb3J0IGNsYXNzIENhbGVuZGFyU2NoZWR1bGVyVmlld0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY3VycmVudCB2aWV3IGRhdGVcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgdmlld0RhdGU6IERhdGU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiBldmVudHMgdG8gZGlzcGxheSBvbiB2aWV3XHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGV2ZW50czogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIGFuIGhvdXIuIE11c3QgYmUgPD0gNlxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBob3VyU2VnbWVudHM6IG51bWJlciA9IDI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBhcnJheSBvZiBkYXkgaW5kZXhlcyAoMCA9IHN1bmRheSwgMSA9IG1vbmRheSBldGMpIHRoYXQgd2lsbCBiZSBoaWRkZW4gb24gdGhlIHZpZXdcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZXhjbHVkZURheXM6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGVjaWZ5IGlmIHRoZSBmaXJzdCBkYXkgb2YgY3VycmVudCBzY2hlZHVsZXIgdmlldyBoYXMgdG8gYmUgdG9kYXkgb3IgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vla1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzdGFydHNXaXRoVG9kYXk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNwZWNpZnkgaWYgYWN0aW9ucyBtdXN0IGJlIHNob3duIG9yIG5vdFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBzaG93QWN0aW9uczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIGVhY2ggY2VsbCBpcyByZW5kZXJlZC4gVGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgY29udGFpbiB0aGUgY2FsZW5kYXIgKGRheSwgaG91ciBvciBzZWdtZW50KSBjZWxsLlxyXG4gICAgICogSWYgeW91IGFkZCB0aGUgYGNzc0NsYXNzYCBwcm9wZXJ0eSB0byB0aGUgY2VsbCBpdCB3aWxsIGFkZCB0aGF0IGNsYXNzIHRvIHRoZSBjZWxsIGluIHRoZSB0ZW1wbGF0ZVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBkYXlNb2RpZmllcjogRnVuY3Rpb247XHJcbiAgICBASW5wdXQoKSBob3VyTW9kaWZpZXI6IEZ1bmN0aW9uO1xyXG4gICAgQElucHV0KCkgc2VnbWVudE1vZGlmaWVyOiBGdW5jdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuIG9ic2VydmFibGUgdGhhdCB3aGVuIGVtaXR0ZWQgb24gd2lsbCByZS1yZW5kZXIgdGhlIGN1cnJlbnQgdmlld1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSByZWZyZXNoOiBTdWJqZWN0PGFueT47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbG9jYWxlIHVzZWQgdG8gZm9ybWF0IGRhdGVzXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGxvY2FsZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBsYWNlbWVudCBvZiB0aGUgZXZlbnQgdG9vbHRpcFxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSB0b29sdGlwUGxhY2VtZW50OiBzdHJpbmcgPSAnYm90dG9tJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzdGFydCBudW1iZXIgb2YgdGhlIHdlZWtcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgd2Vla1N0YXJ0c09uOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGN1c3RvbSB0ZW1wbGF0ZSB0byB1c2UgdG8gcmVwbGFjZSB0aGUgaGVhZGVyXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGhlYWRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBjdXN0b20gdGVtcGxhdGUgdG8gdXNlIHRvIHJlcGxhY2UgdGhlIGRheSBjZWxsXHJcbiAgICAgKi9cclxuICAgIEBJbnB1dCgpIGNlbGxUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgY3VzdG9tIHRlbXBsYXRlIHRvIHVzZSBmb3Igd2VlayB2aWV3IGV2ZW50c1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBldmVudFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHByZWNpc2lvbiB0byBkaXNwbGF5IGV2ZW50cy5cclxuICAgICAqIGBkYXlzYCB3aWxsIHJvdW5kIGV2ZW50IHN0YXJ0IGFuZCBlbmQgZGF0ZXMgdG8gdGhlIG5lYXJlc3QgZGF5IGFuZCBgbWludXRlc2Agd2lsbCBub3QgZG8gdGhpcyByb3VuZGluZ1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBwcmVjaXNpb246ICdkYXlzJyB8ICdtaW51dGVzJyA9ICdkYXlzJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXkgc3RhcnQgaG91cnMgaW4gMjQgaG91ciB0aW1lLiBNdXN0IGJlIDAtMjNcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZGF5U3RhcnRIb3VyOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRheSBzdGFydCBtaW51dGVzLiBNdXN0IGJlIDAtNTlcclxuICAgICAqL1xyXG4gICAgQElucHV0KCkgZGF5U3RhcnRNaW51dGU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGF5IGVuZCBob3VycyBpbiAyNCBob3VyIHRpbWUuIE11c3QgYmUgMC0yM1xyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBkYXlFbmRIb3VyOiBudW1iZXIgPSAyMztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkYXkgZW5kIG1pbnV0ZXMuIE11c3QgYmUgMC01OVxyXG4gICAgICovXHJcbiAgICBASW5wdXQoKSBkYXlFbmRNaW51dGU6IG51bWJlciA9IDU5O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gYSBoZWFkZXIgd2VlayBkYXkgaXMgY2xpY2tlZFxyXG4gICAgICovXHJcbiAgICBAT3V0cHV0KCkgZGF5Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZGF0ZTogRGF0ZSB9PiA9IG5ldyBFdmVudEVtaXR0ZXI8eyBkYXRlOiBEYXRlIH0+KCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgc2VnbWVudCBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIEBPdXRwdXQoKSBzZWdtZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50IH0+ID0gbmV3IEV2ZW50RW1pdHRlcjx7IHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCB9PigpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGNsaWNrZWRcclxuICAgICAqL1xyXG4gICAgQE91dHB1dCgpIGV2ZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4oKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgZGF5czogU2NoZWR1bGVyVmlld0RheVtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBoZWFkZXJEYXlzOiBTY2hlZHVsZXJWaWV3RGF5W107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHZpZXc6IFNjaGVkdWxlclZpZXc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIHJlZnJlc2hTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgaG91cnM6IERheVZpZXdIb3VyW10gPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLCBASW5qZWN0KExPQ0FMRV9JRCkgbG9jYWxlOiBzdHJpbmcsIHByaXZhdGUgY29uZmlnOiBTY2hlZHVsZXJDb25maWcpIHtcclxuICAgICAgICB0aGlzLmxvY2FsZSA9IGNvbmZpZy5sb2NhbGUgfHwgbG9jYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5yZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFN1YnNjcmlwdGlvbiA9IHRoaXMucmVmcmVzaC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQWxsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmhvdXJzID0gdGhpcy5nZXRTY2hlZHVsZXJWaWV3SG91ckdyaWQoe1xyXG4gICAgICAgICAgICB2aWV3RGF0ZTogdGhpcy52aWV3RGF0ZSxcclxuICAgICAgICAgICAgaG91clNlZ21lbnRzOiB0aGlzLmhvdXJTZWdtZW50cyxcclxuICAgICAgICAgICAgZGF5U3RhcnQ6IHtcclxuICAgICAgICAgICAgICAgIGhvdXI6IHRoaXMuZGF5U3RhcnRIb3VyLFxyXG4gICAgICAgICAgICAgICAgbWludXRlOiB0aGlzLmRheVN0YXJ0TWludXRlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRheUVuZDoge1xyXG4gICAgICAgICAgICAgICAgaG91cjogdGhpcy5kYXlFbmRIb3VyLFxyXG4gICAgICAgICAgICAgICAgbWludXRlOiB0aGlzLmRheUVuZE1pbnV0ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VzLnZpZXdEYXRlIHx8IGNoYW5nZXMuZXhjbHVkZURheXMpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoSGVhZGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhbmdlcy5ldmVudHMgfHwgY2hhbmdlcy52aWV3RGF0ZSB8fCBjaGFuZ2VzLmV4Y2x1ZGVEYXlzIHx8IGNoYW5nZXMuZGF5U3RhcnRIb3VyIHx8IGNoYW5nZXMuZGF5RW5kSG91ciB8fCBjaGFuZ2VzLmRheVN0YXJ0TWludXRlIHx8IGNoYW5nZXMuZGF5RW5kTWludXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEJvZHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnJlZnJlc2hTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICB0b2dnbGVTZWdtZW50SGlnaGxpZ2h0KGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50LCBpc0hpZ2hsaWdodGVkOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXlzLmZvckVhY2goKGRheTogU2NoZWR1bGVyVmlld0RheSkgPT4ge1xyXG4gICAgICAgICAgICBkYXkuaG91cnMuZm9yRWFjaCgoaG91cjogU2NoZWR1bGVyVmlld0hvdXIpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGhvdXIuc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAoaXNIaWdobGlnaHRlZCAmJiBzZWdtZW50LmV2ZW50cy5pbmRleE9mKGV2ZW50KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgc2VnbWVudC5iYWNrZ3JvdW5kQ29sb3IgPSBldmVudC5jb2xvci5zZWNvbmRhcnk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGRlbGV0ZSBzZWdtZW50LmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgaG91ci5zZWdtZW50cy5maWx0ZXIoKHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCkgPT4gc2VnbWVudC5ldmVudHMuc29tZSgoZXY6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpID0+IGV2LmlkID09PSBldmVudC5pZCAmJiBldi5zdGFydC5nZXREYXkoKSA9PT0gZXZlbnQuc3RhcnQuZ2V0RGF5KCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5ldmVudHMuZmlsdGVyKChldjogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCkgPT4gZXYuaWQgPT09IGV2ZW50LmlkICYmIGV2LnN0YXJ0LmdldERheSgpID09PSBldmVudC5zdGFydC5nZXREYXkoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChlOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSGlnaGxpZ2h0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5iYWNrZ3JvdW5kQ29sb3IgPSBlLmNvbG9yLnNlY29uZGFyeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VnbWVudC5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlZnJlc2hIZWFkZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXJEYXlzID0gdGhpcy5nZXRTY2hlZHVsZXJWaWV3RGF5cyh7XHJcbiAgICAgICAgICAgIHZpZXdEYXRlOiB0aGlzLnZpZXdEYXRlLFxyXG4gICAgICAgICAgICB3ZWVrU3RhcnRzT246IHRoaXMud2Vla1N0YXJ0c09uLFxyXG4gICAgICAgICAgICBzdGFydHNXaXRoVG9kYXk6IHRoaXMuc3RhcnRzV2l0aFRvZGF5LFxyXG4gICAgICAgICAgICBleGNsdWRlZDogdGhpcy5leGNsdWRlRGF5c1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVmcmVzaEJvZHkoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5nZXRTY2hlZHVsZXJWaWV3KHtcclxuICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50cyxcclxuICAgICAgICAgICAgdmlld0RhdGU6IHRoaXMudmlld0RhdGUsXHJcbiAgICAgICAgICAgIHdlZWtTdGFydHNPbjogdGhpcy53ZWVrU3RhcnRzT24sXHJcbiAgICAgICAgICAgIHN0YXJ0c1dpdGhUb2RheTogdGhpcy5zdGFydHNXaXRoVG9kYXksXHJcbiAgICAgICAgICAgIGV4Y2x1ZGVkOiB0aGlzLmV4Y2x1ZGVEYXlzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRheU1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF5cy5mb3JFYWNoKGRheSA9PiB0aGlzLmRheU1vZGlmaWVyKGRheSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF5TW9kaWZpZXIgfHwgdGhpcy5ob3VyTW9kaWZpZXIgfHwgdGhpcy5zZWdtZW50TW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmRheXMuZm9yRWFjaChkYXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF5TW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRheU1vZGlmaWVyKGRheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkYXkuaG91cnMuZm9yRWFjaCgoaG91cjogU2NoZWR1bGVyVmlld0hvdXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3VyTW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3VyTW9kaWZpZXIoaG91cik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGhvdXIuc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlZ21lbnRNb2RpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50TW9kaWZpZXIoc2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWZyZXNoQWxsKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEhlYWRlcigpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEJvZHkoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTY2hlZHVsZXJWaWV3KGFyZ3M6IEdldFNjaGVkdWxlclZpZXdBcmdzKTogU2NoZWR1bGVyVmlldyB7XHJcbiAgICAgICAgbGV0IGV2ZW50czogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdID0gYXJncy5ldmVudHMgfHwgW107XHJcbiAgICAgICAgY29uc3Qgdmlld0RhdGU6IERhdGUgPSBhcmdzLnZpZXdEYXRlO1xyXG4gICAgICAgIGNvbnN0IHdlZWtTdGFydHNPbjogbnVtYmVyID0gYXJncy53ZWVrU3RhcnRzT247XHJcbiAgICAgICAgY29uc3Qgc3RhcnRzV2l0aFRvZGF5OiBib29sZWFuID0gYXJncy5zdGFydHNXaXRoVG9kYXk7XHJcbiAgICAgICAgY29uc3QgZXhjbHVkZWQ6IG51bWJlcltdID0gYXJncy5leGNsdWRlZCB8fCBbXTtcclxuICAgICAgICBjb25zdCBwcmVjaXNpb246IHN0cmluZyA9IGFyZ3MucHJlY2lzaW9uIHx8ICdkYXlzJztcclxuXHJcbiAgICAgICAgaWYgKCFldmVudHMpIHtcclxuICAgICAgICAgICAgZXZlbnRzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdGFydE9mVmlld1dlZWs6IERhdGUgPSBzdGFydHNXaXRoVG9kYXkgPyBzdGFydE9mRGF5KHZpZXdEYXRlKSA6IHN0YXJ0T2ZXZWVrKHZpZXdEYXRlLCB7IHdlZWtTdGFydHNPbjogd2Vla1N0YXJ0c09uIH0pO1xyXG4gICAgICAgIGNvbnN0IGVuZE9mVmlld1dlZWs6IERhdGUgPSBzdGFydHNXaXRoVG9kYXkgPyBhZGREYXlzKGVuZE9mRGF5KHZpZXdEYXRlKSwgNikgOiBlbmRPZldlZWsodmlld0RhdGUsIHsgd2Vla1N0YXJ0c09uOiB3ZWVrU3RhcnRzT24gfSk7XHJcbiAgICAgICAgLy8gbGV0IG1heFJhbmdlOiBudW1iZXIgPSBEQVlTX0lOX1dFRUsgLSBleGNsdWRlZC5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzSW5XZWVrOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50W10gPSB0aGlzLmdldEV2ZW50c0luUGVyaW9kKHsgZXZlbnRzOiBldmVudHMsIHBlcmlvZFN0YXJ0OiBzdGFydE9mVmlld1dlZWssIHBlcmlvZEVuZDogZW5kT2ZWaWV3V2VlayB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXlzID0gdGhpcy5nZXRTY2hlZHVsZXJWaWV3RGF5cyh7XHJcbiAgICAgICAgICAgIHZpZXdEYXRlOiB2aWV3RGF0ZSxcclxuICAgICAgICAgICAgd2Vla1N0YXJ0c09uOiB3ZWVrU3RhcnRzT24sXHJcbiAgICAgICAgICAgIHN0YXJ0c1dpdGhUb2RheTogc3RhcnRzV2l0aFRvZGF5LFxyXG4gICAgICAgICAgICBleGNsdWRlZDogZXhjbHVkZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRheXMuZm9yRWFjaCgoZGF5OiBTY2hlZHVsZXJWaWV3RGF5LCBkYXlJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvdXJzOiBTY2hlZHVsZXJWaWV3SG91cltdID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuaG91cnMuZm9yRWFjaCgoaG91cjogRGF5Vmlld0hvdXIsIGhvdXJJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50czogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50W10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGhvdXIuc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudDogRGF5Vmlld0hvdXJTZWdtZW50LCBzZWdtZW50SW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuZGF0ZSA9IHNldERhdGUoc2V0TW9udGgoc2V0WWVhcihzZWdtZW50LmRhdGUsIGRheS5kYXRlLmdldEZ1bGxZZWFyKCkpLCBkYXkuZGF0ZS5nZXRNb250aCgpKSwgZGF5LmRhdGUuZ2V0RGF0ZSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZlNlZ21lbnQ6IERhdGUgPSBzZWdtZW50LmRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kT2ZTZWdtZW50OiBEYXRlID0gYWRkTWludXRlcyhzZWdtZW50LmRhdGUsIE1JTlVURVNfSU5fSE9VUiAvIHRoaXMuaG91clNlZ21lbnRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZ0czogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdID0gdGhpcy5nZXRFdmVudHNJblBlcmlvZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZXZlbnRzSW5XZWVrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RTdGFydDogc3RhcnRPZlNlZ21lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZEVuZDogZW5kT2ZTZWdtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSkubWFwKChldmVudDogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyU2NoZWR1bGVyRXZlbnQ+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGV2ZW50LnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBldmVudC5lbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZXZlbnQudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBldmVudC5jb250ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGV2ZW50LmNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZXZlbnQuYWN0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXZlbnQuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6IGV2ZW50LmNzc0NsYXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRzQmVmb3JlU2VnbWVudDogZXZlbnQuc3RhcnQgPCBzdGFydE9mU2VnbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZHNBZnRlclNlZ21lbnQ6IGV2ZW50LmVuZCA+IGVuZE9mU2VnbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSG92ZXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkOiBldmVudC5pc0Rpc2FibGVkIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbGlja2FibGU6IGV2ZW50LmlzQ2xpY2thYmxlICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuaXNDbGlja2FibGUgIT09IG51bGwgPyBldmVudC5pc0NsaWNrYWJsZSA6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaCg8U2NoZWR1bGVyVmlld0hvdXJTZWdtZW50PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudDogc2VnbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoc2VnbWVudC5kYXRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBldnRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNCb3JkZXI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJEYXRlOiBEYXRlID0gbmV3IERhdGUoZGF5LmRhdGUuZ2V0RnVsbFllYXIoKSwgZGF5LmRhdGUuZ2V0TW9udGgoKSwgZGF5LmRhdGUuZ2V0RGF0ZSgpLCBob3VyLnNlZ21lbnRzWzBdLmRhdGUuZ2V0SG91cnMoKSk7XHJcbiAgICAgICAgICAgICAgICBob3Vycy5wdXNoKDxTY2hlZHVsZXJWaWV3SG91cj57IGhvdXI6IGhvdXIsIGRhdGU6IGhvdXJEYXRlLCBzZWdtZW50czogc2VnbWVudHMsIGhhc0JvcmRlcjogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRheS5ob3VycyA9IGhvdXJzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gPFNjaGVkdWxlclZpZXc+e1xyXG4gICAgICAgICAgICBkYXlzOiB0aGlzLmRheXNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGlzRXZlbnRJblBlcmlvZChhcmdzOiB7IGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50LCBwZXJpb2RTdGFydDogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSwgcGVyaW9kRW5kOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlIH0pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBldmVudDogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCA9IGFyZ3MuZXZlbnQsIHBlcmlvZFN0YXJ0OiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlID0gYXJncy5wZXJpb2RTdGFydCwgcGVyaW9kRW5kOiBzdHJpbmcgfCBudW1iZXIgfCBEYXRlID0gYXJncy5wZXJpb2RFbmQ7XHJcbiAgICAgICAgY29uc3QgZXZlbnRTdGFydDogRGF0ZSA9IGV2ZW50LnN0YXJ0O1xyXG4gICAgICAgIGNvbnN0IGV2ZW50RW5kOiBEYXRlID0gZXZlbnQuZW5kIHx8IGV2ZW50LnN0YXJ0O1xyXG5cclxuICAgICAgICBpZiAoZXZlbnRTdGFydCA+IHBlcmlvZFN0YXJ0ICYmIGV2ZW50U3RhcnQgPCBwZXJpb2RFbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudEVuZCA+IHBlcmlvZFN0YXJ0ICYmIGV2ZW50RW5kIDwgcGVyaW9kRW5kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnRTdGFydCA8IHBlcmlvZFN0YXJ0ICYmIGV2ZW50RW5kID4gcGVyaW9kRW5kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNTYW1lU2Vjb25kKGV2ZW50U3RhcnQsIHBlcmlvZFN0YXJ0KSB8fCBpc1NhbWVTZWNvbmQoZXZlbnRTdGFydCwgc3ViU2Vjb25kcyhwZXJpb2RFbmQsIDEpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU2FtZVNlY29uZChzdWJTZWNvbmRzKGV2ZW50RW5kLCAxKSwgcGVyaW9kU3RhcnQpIHx8IGlzU2FtZVNlY29uZChldmVudEVuZCwgcGVyaW9kRW5kKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXZlbnRzSW5QZXJpb2QoYXJnczogeyBldmVudHM6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRbXSwgcGVyaW9kU3RhcnQ6IHN0cmluZyB8IG51bWJlciB8IERhdGUsIHBlcmlvZEVuZDogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB9KTogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFtdIHtcclxuICAgICAgICBjb25zdCBldmVudHM6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRbXSA9IGFyZ3MuZXZlbnRzLCBwZXJpb2RTdGFydDogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSA9IGFyZ3MucGVyaW9kU3RhcnQsIHBlcmlvZEVuZDogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSA9IGFyZ3MucGVyaW9kRW5kO1xyXG4gICAgICAgIHJldHVybiBldmVudHMuZmlsdGVyKChldmVudCkgPT4gdGhpcy5pc0V2ZW50SW5QZXJpb2QoeyBldmVudDogZXZlbnQsIHBlcmlvZFN0YXJ0OiBwZXJpb2RTdGFydCwgcGVyaW9kRW5kOiBwZXJpb2RFbmQgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U2NoZWR1bGVyVmlld0RheXMoYXJnczogR2V0U2NoZWR1bGVyVmlld0FyZ3MpOiBTY2hlZHVsZXJWaWV3RGF5W10ge1xyXG4gICAgICAgIGNvbnN0IHZpZXdEYXRlOiBEYXRlID0gYXJncy52aWV3RGF0ZTtcclxuICAgICAgICBjb25zdCB3ZWVrU3RhcnRzT246IG51bWJlciA9IGFyZ3Mud2Vla1N0YXJ0c09uO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0c1dpdGhUb2RheTogYm9vbGVhbiA9IGFyZ3Muc3RhcnRzV2l0aFRvZGF5O1xyXG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVkOiBudW1iZXJbXSA9IGFyZ3MuZXhjbHVkZWQgfHwgW107XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRzV2l0aFRvZGF5ID8gbmV3IERhdGUodmlld0RhdGUpIDogc3RhcnRPZldlZWsodmlld0RhdGUsIHsgd2Vla1N0YXJ0c09uOiB3ZWVrU3RhcnRzT24gfSk7XHJcbiAgICAgICAgY29uc3QgZGF5czogU2NoZWR1bGVyVmlld0RheVtdID0gW107XHJcbiAgICAgICAgY29uc3QgbG9vcCA9IChpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGFkZERheXMoc3RhcnQsIGkpO1xyXG4gICAgICAgICAgICBpZiAoIWV4Y2x1ZGVkLnNvbWUoKGU6IG51bWJlcikgPT4gZGF0ZS5nZXREYXkoKSA9PT0gZSkpIHtcclxuICAgICAgICAgICAgICAgIGRheXMucHVzaCh0aGlzLmdldFNjaGVkdWxlckRheSh7IGRhdGU6IGRhdGUgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IERBWVNfSU5fV0VFSzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxvb3AoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0U2NoZWR1bGVyRGF5KGFyZ3M6IHsgZGF0ZTogRGF0ZSB9KTogU2NoZWR1bGVyVmlld0RheSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZTogRGF0ZSA9IGFyZ3MuZGF0ZTtcclxuICAgICAgICBjb25zdCB0b2RheTogRGF0ZSA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoKSk7XHJcblxyXG4gICAgICAgIHJldHVybiA8U2NoZWR1bGVyVmlld0RheT57XHJcbiAgICAgICAgICAgIGRhdGU6IGRhdGUsXHJcbiAgICAgICAgICAgIGlzUGFzdDogZGF0ZSA8IHRvZGF5LFxyXG4gICAgICAgICAgICBpc1RvZGF5OiBpc1NhbWVEYXkoZGF0ZSwgdG9kYXkpLFxyXG4gICAgICAgICAgICBpc0Z1dHVyZTogZGF0ZSA+IHRvZGF5LFxyXG4gICAgICAgICAgICBpc1dlZWtlbmQ6IFdFRUtFTkRfREFZX05VTUJFUlMuaW5kZXhPZihnZXREYXkoZGF0ZSkpID4gLTEsXHJcbiAgICAgICAgICAgIGhvdXJzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTY2hlZHVsZXJWaWV3SG91ckdyaWQoYXJnczogR2V0U2NoZWR1bGVyVmlld0hvdXJHcmlkQXJncyk6IERheVZpZXdIb3VyW10ge1xyXG4gICAgICAgIGNvbnN0IHZpZXdEYXRlOiBEYXRlID0gYXJncy52aWV3RGF0ZSwgaG91clNlZ21lbnRzOiBudW1iZXIgPSBhcmdzLmhvdXJTZWdtZW50cywgZGF5U3RhcnQ6IGFueSA9IGFyZ3MuZGF5U3RhcnQsIGRheUVuZDogYW55ID0gYXJncy5kYXlFbmQ7XHJcbiAgICAgICAgY29uc3QgaG91cnM6IERheVZpZXdIb3VyW10gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZlZpZXc6IERhdGUgPSBzZXRNaW51dGVzKHNldEhvdXJzKHN0YXJ0T2ZEYXkodmlld0RhdGUpLCBkYXlTdGFydC5ob3VyKSwgZGF5U3RhcnQubWludXRlKTtcclxuICAgICAgICBjb25zdCBlbmRPZlZpZXc6IERhdGUgPSBzZXRNaW51dGVzKHNldEhvdXJzKHN0YXJ0T2ZNaW51dGUoZW5kT2ZEYXkodmlld0RhdGUpKSwgZGF5RW5kLmhvdXIpLCBkYXlFbmQubWludXRlKTtcclxuICAgICAgICBjb25zdCBzZWdtZW50RHVyYXRpb246IG51bWJlciA9IE1JTlVURVNfSU5fSE9VUiAvIGhvdXJTZWdtZW50cztcclxuICAgICAgICBjb25zdCBzdGFydE9mVmlld0RheTogRGF0ZSA9IHN0YXJ0T2ZEYXkodmlld0RhdGUpO1xyXG5cclxuICAgICAgICBjb25zdCByYW5nZSA9IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IG51bWJlcltdID0+IEFycmF5LmZyb20oeyBsZW5ndGg6ICgoZW5kICsgMSkgLSBzdGFydCkgfSwgKHYsIGspID0+IGsgKyBzdGFydCk7XHJcbiAgICAgICAgY29uc3QgaG91cnNJblZpZXc6IG51bWJlcltdID0gcmFuZ2UoZGF5U3RhcnQuaG91ciwgZGF5RW5kLmhvdXIpO1xyXG5cclxuICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IEhPVVJTX0lOX0RBWTsgaSsrKSB7XHJcbiAgICAgICAgaG91cnNJblZpZXcuZm9yRWFjaCgoaG91cjogbnVtYmVyLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBob3VyU2VnbWVudHM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGFkZE1pbnV0ZXMoYWRkSG91cnMoc3RhcnRPZlZpZXdEYXksIGhvdXIpLCBqICogc2VnbWVudER1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlID49IHN0YXJ0T2ZWaWV3ICYmIGRhdGUgPCBlbmRPZlZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdGFydDogaiA9PT0gMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBob3Vycy5wdXNoKDxEYXlWaWV3SG91cj57IHNlZ21lbnRzOiBzZWdtZW50cyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBob3VycztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHZXRTY2hlZHVsZXJWaWV3QXJncyB7XHJcbiAgICBldmVudHM/OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50W107XHJcbiAgICB2aWV3RGF0ZTogRGF0ZTtcclxuICAgIHdlZWtTdGFydHNPbjogbnVtYmVyO1xyXG4gICAgc3RhcnRzV2l0aFRvZGF5OiBib29sZWFuO1xyXG4gICAgZXhjbHVkZWQ/OiBudW1iZXJbXTtcclxuICAgIHByZWNpc2lvbj86ICdtaW51dGVzJyB8ICdkYXlzJztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHZXRTY2hlZHVsZXJWaWV3SG91ckdyaWRBcmdzIHtcclxuICAgIHZpZXdEYXRlOiBEYXRlO1xyXG4gICAgaG91clNlZ21lbnRzOiBudW1iZXI7XHJcbiAgICBkYXlTdGFydDogYW55O1xyXG4gICAgZGF5RW5kOiBhbnk7XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVGVtcGxhdGVSZWYsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgICBTY2hlZHVsZXJWaWV3RGF5LFxyXG4gICAgU2NoZWR1bGVyVmlld0hvdXIsXHJcbiAgICBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50XHJcbn0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQnO1xyXG5cclxuLy8gV09SS0FST1VORDogaHR0cHM6Ly9naXRodWIuY29tL2RoZXJnZXMvbmctcGFja2Fnci9pc3N1ZXMvMjE3I2lzc3VlY29tbWVudC0zMzk0NjAyNTVcclxuaW1wb3J0ICogYXMgbW9tZW50SW1wb3J0ZWQgZnJvbSAnbW9tZW50JztcclxuY29uc3QgbW9tZW50ID0gbW9tZW50SW1wb3J0ZWQ7XHJcblxyXG5AQ29tcG9uZW50KHsgLy8gW2NsYXNzLm5vLWJvcmRlcl0nOiAnIWRheS5oYXNCb3JkZXJcclxuICAgIHNlbGVjdG9yOiAnY2FsZW5kYXItc2NoZWR1bGVyLWNlbGwnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8bmctdGVtcGxhdGUgI2RlZmF1bHRUZW1wbGF0ZT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItc2VnbWVudHNcIiAqbmdJZj1cImhvdXIuc2VnbWVudHMubGVuZ3RoID4gMFwiXHJcbiAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJob3VyPy5jc3NDbGFzc1wiXHJcbiAgICAgICAgICAgICAgICBbY2xhc3Mubm8tYm9yZGVyXT1cIiFob3VyLmhhc0JvcmRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItc2VnbWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IHNlZ21lbnQgb2YgaG91ci5zZWdtZW50czsgbGV0IHNpID0gaW5kZXhcIlxyXG4gICAgICAgICAgICAgICAgICAgIFt0aXRsZV09XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwic2VnbWVudD8uY3NzQ2xhc3NcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtjbGFzcy5oYXMtZXZlbnRzXT1cInNlZ21lbnQuZXZlbnRzLmxlbmd0aCA+IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtZGlzYWJsZWRdPVwic2VnbWVudC5pc0Rpc2FibGVkXCJcclxuICAgICAgICAgICAgICAgICAgICBbc3R5bGUuYmFja2dyb3VuZENvbG9yXT1cInNlZ21lbnQuYmFja2dyb3VuZENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgICBbY2xhc3Mubm8tYm9yZGVyXT1cIiFzZWdtZW50Lmhhc0JvcmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgKG13bENsaWNrKT1cIm9uU2VnbWVudENsaWNrKCRldmVudCwgc2VnbWVudClcIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhbC1zY2hlZHVsZXItZXZlbnRzXCIgKm5nSWY9XCJzZWdtZW50LmV2ZW50cy5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBldmVudCBvZiBzZWdtZW50LmV2ZW50c1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF5XT1cImRheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaG91cl09XCJob3VyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzZWdtZW50XT1cInNlZ21lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2V2ZW50XT1cImV2ZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cIm9uTW91c2VFbnRlcigkZXZlbnQsIHNlZ21lbnQsIGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobW91c2VsZWF2ZSk9XCJvbk1vdXNlTGVhdmUoJGV2ZW50LCBzZWdtZW50LCBldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW3Rvb2x0aXBQbGFjZW1lbnRdPVwidG9vbHRpcFBsYWNlbWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2hvd0FjdGlvbnNdPVwic2hvd0FjdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2N1c3RvbVRlbXBsYXRlXT1cImV2ZW50VGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGV2ZW50Q2xpY2tlZCk9XCJvbkV2ZW50Q2xpY2soJGV2ZW50LCBldmVudClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8bmctdGVtcGxhdGVcclxuICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiY3VzdG9tVGVtcGxhdGUgfHwgZGVmYXVsdFRlbXBsYXRlXCJcclxuICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cIntcclxuICAgICAgICAgICAgICAgIGRheTogZGF5LFxyXG4gICAgICAgICAgICAgICAgaG91cjogaG91cixcclxuICAgICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxyXG4gICAgICAgICAgICAgICAgdG9vbHRpcFBsYWNlbWVudDogdG9vbHRpcFBsYWNlbWVudCxcclxuICAgICAgICAgICAgICAgIHNob3dBY3Rpb25zOiBzaG93QWN0aW9ucyxcclxuICAgICAgICAgICAgICAgIGV2ZW50VGVtcGxhdGU6IGV2ZW50VGVtcGxhdGUsXHJcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRTZWdtZW50OiBoaWdobGlnaHRTZWdtZW50LFxyXG4gICAgICAgICAgICAgICAgdW5oaWdobGlnaHRTZWdtZW50OiB1bmhpZ2hsaWdodFNlZ21lbnQsXHJcbiAgICAgICAgICAgICAgICBzZWdtZW50Q2xpY2tlZDogc2VnbWVudENsaWNrZWQsXHJcbiAgICAgICAgICAgICAgICBldmVudENsaWNrZWQ6IGV2ZW50Q2xpY2tlZFxyXG4gICAgICAgICAgICB9XCI+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIGAsXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ2NhbC1zY2hlZHVsZXItY2VsbCcsXHJcbiAgICAgICAgJ1tjbGFzcy5jYWwtcGFzdF0nOiAnZGF5LmlzUGFzdCcsXHJcbiAgICAgICAgJ1tjbGFzcy5jYWwtdG9kYXldJzogJ2RheS5pc1RvZGF5JyxcclxuICAgICAgICAnW2NsYXNzLmNhbC1mdXR1cmVdJzogJ2RheS5pc0Z1dHVyZScsXHJcbiAgICAgICAgJ1tjbGFzcy5jYWwtd2Vla2VuZF0nOiAnZGF5LmlzV2Vla2VuZCcsXHJcbiAgICAgICAgJ1tjbGFzcy5jYWwtaW4tbW9udGhdJzogJ2RheS5pbk1vbnRoJyxcclxuICAgICAgICAnW2NsYXNzLmNhbC1vdXQtbW9udGhdJzogJyFkYXkuaW5Nb250aCcsXHJcbiAgICAgICAgJ1tzdHlsZS5iYWNrZ3JvdW5kQ29sb3JdJzogJ2RheS5iYWNrZ3JvdW5kQ29sb3InXHJcbiAgICB9XHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhclNjaGVkdWxlckNlbGxDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICAgIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmc7XHJcblxyXG4gICAgQElucHV0KCkgZGF5OiBTY2hlZHVsZXJWaWV3RGF5O1xyXG5cclxuICAgIEBJbnB1dCgpIGhvdXI6IFNjaGVkdWxlclZpZXdIb3VyO1xyXG5cclxuICAgIEBJbnB1dCgpIGxvY2FsZTogc3RyaW5nO1xyXG5cclxuICAgIEBJbnB1dCgpIHRvb2x0aXBQbGFjZW1lbnQ6IHN0cmluZztcclxuXHJcbiAgICBASW5wdXQoKSBzaG93QWN0aW9uczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgQElucHV0KCkgY3VzdG9tVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gICAgQElucHV0KCkgZXZlbnRUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgICBAT3V0cHV0KCkgaGlnaGxpZ2h0U2VnbWVudDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gICAgQE91dHB1dCgpIHVuaGlnaGxpZ2h0U2VnbWVudDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gICAgQE91dHB1dCgpIHNlZ21lbnRDbGlja2VkOiBFdmVudEVtaXR0ZXI8eyBzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50IH0+KCk7XHJcblxyXG4gICAgQE91dHB1dCgpIGV2ZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4oKTtcclxuXHJcblxyXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG1vbWVudCh0aGlzLmRheS5kYXRlKS5mb3JtYXQoJ2RkZGQgTCcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTW91c2VFbnRlcihtb3VzZUV2ZW50OiBNb3VzZUV2ZW50LCBzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQsIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFldmVudC5pc0Rpc2FibGVkICYmICFzZWdtZW50LmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRTZWdtZW50LmVtaXQoeyBldmVudDogZXZlbnQgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTW91c2VMZWF2ZShtb3VzZUV2ZW50OiBNb3VzZUV2ZW50LCBzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQsIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFldmVudC5pc0Rpc2FibGVkICYmICFzZWdtZW50LmlzRGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy51bmhpZ2hsaWdodFNlZ21lbnQuZW1pdCh7IGV2ZW50OiBldmVudCB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIG9uU2VnbWVudENsaWNrKG1vdXNlRXZlbnQ6IE1vdXNlRXZlbnQsIHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChtb3VzZUV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBtb3VzZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlZ21lbnQuZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlZ21lbnRDbGlja2VkLmVtaXQoeyBzZWdtZW50OiBzZWdtZW50IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgb25FdmVudENsaWNrKG1vdXNlRXZlbnQ6IE1vdXNlRXZlbnQsIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5pc0NsaWNrYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2xpY2tlZC5lbWl0KHsgZXZlbnQ6IGV2ZW50IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU2NoZWR1bGVyVmlld0RheSB9IGZyb20gJy4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjYWxlbmRhci1zY2hlZHVsZXItaGVhZGVyJyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPG5nLXRlbXBsYXRlICNkZWZhdWx0VGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLWhlYWRlcnNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYWwtaGVhZGVyIGFzaWRlIGNhbC1oZWFkZXItY2xvY2sgYWxpZ24tY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zMlwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+c2NoZWR1bGU8L2k+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsLWhlYWRlci1jb2xzIGFzaWRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhbC1oZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZGF5IG9mIGRheXNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLXBhc3RdPVwiZGF5LmlzUGFzdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtdG9kYXldPVwiZGF5LmlzVG9kYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLWZ1dHVyZV09XCJkYXkuaXNGdXR1cmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLXdlZWtlbmRdPVwiZGF5LmlzV2Vla2VuZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtZHJhZy1vdmVyXT1cImRheS5kcmFnT3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChtd2xDbGljayk9XCJkYXlDbGlja2VkLmVtaXQoe2RhdGU6IGRheS5kYXRlfSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGI+e3sgZGF5LmRhdGUgfCBjYWxlbmRhckRhdGU6J3dlZWtWaWV3Q29sdW1uSGVhZGVyJzpsb2NhbGUgfX08L2I+PGJyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBkYXkuZGF0ZSB8IGNhbGVuZGFyRGF0ZTond2Vla1ZpZXdDb2x1bW5TdWJIZWFkZXInOmxvY2FsZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZVxyXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJjdXN0b21UZW1wbGF0ZSB8fCBkZWZhdWx0VGVtcGxhdGVcIlxyXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie2RheXM6IGRheXMsIGxvY2FsZTogbG9jYWxlLCBkYXlDbGlja2VkOiBkYXlDbGlja2VkfVwiPlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICBgXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhclNjaGVkdWxlckhlYWRlckNvbXBvbmVudCB7XHJcblxyXG4gICAgQElucHV0KCkgZGF5czogU2NoZWR1bGVyVmlld0RheVtdO1xyXG5cclxuICAgIEBJbnB1dCgpIGxvY2FsZTogc3RyaW5nO1xyXG5cclxuICAgIEBJbnB1dCgpIGN1c3RvbVRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG5cclxuICAgIEBPdXRwdXQoKSBkYXlDbGlja2VkOiBFdmVudEVtaXR0ZXI8eyBkYXRlOiBEYXRlIH0+ID0gbmV3IEV2ZW50RW1pdHRlcjx7IGRhdGU6IERhdGUgfT4oKTtcclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgVGVtcGxhdGVSZWYsIE9uSW5pdCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgICBTY2hlZHVsZXJWaWV3RGF5LFxyXG4gICAgU2NoZWR1bGVyVmlld0hvdXIsXHJcbiAgICBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50XHJcbn0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQnO1xyXG5pbXBvcnQge1xyXG4gICAgaXNTYW1lRGF5XHJcbn0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5cclxuLy8gV09SS0FST1VORDogaHR0cHM6Ly9naXRodWIuY29tL2RoZXJnZXMvbmctcGFja2Fnci9pc3N1ZXMvMjE3I2lzc3VlY29tbWVudC0zMzk0NjAyNTVcclxuaW1wb3J0ICogYXMgbW9tZW50SW1wb3J0ZWQgZnJvbSAnbW9tZW50JztcclxuY29uc3QgbW9tZW50ID0gbW9tZW50SW1wb3J0ZWQ7XHJcblxyXG4vKipcclxuICogW213bENhbGVuZGFyVG9vbHRpcF09XCJldmVudC50aXRsZSB8IGNhbGVuZGFyRXZlbnRUaXRsZTond2Vla1Rvb2x0aXAnOmV2ZW50XCJcclxuICogW3Rvb2x0aXBQbGFjZW1lbnRdPVwidG9vbHRpcFBsYWNlbWVudFwiXHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICAgIHNlbGVjdG9yOiAnY2FsZW5kYXItc2NoZWR1bGVyLWV2ZW50JyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPG5nLXRlbXBsYXRlICNkZWZhdWx0VGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ldmVudFwiXHJcbiAgICAgICAgICAgICAgICBbdGl0bGVdPVwidGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgW2NsYXNzLmNhbC1zdGFydHMtd2l0aGluLXNlZ21lbnRdPVwiIWV2ZW50LnN0YXJ0c0JlZm9yZVNlZ21lbnRcIlxyXG4gICAgICAgICAgICAgICAgW2NsYXNzLmNhbC1lbmRzLXdpdGhpbi1zZWdtZW50XT1cIiFldmVudC5lbmRzQWZ0ZXJTZWdtZW50XCJcclxuICAgICAgICAgICAgICAgIFtjbGFzcy5ob3ZlcmVkXT1cImV2ZW50LmlzSG92ZXJlZFwiXHJcbiAgICAgICAgICAgICAgICBbY2xhc3MuY2FsLWRpc2FibGVkXT1cImV2ZW50LmlzRGlzYWJsZWQgfHwgc2VnbWVudC5pc0Rpc2FibGVkXCJcclxuICAgICAgICAgICAgICAgIFtjbGFzcy5jYWwtbm90LWNsaWNrYWJsZV09XCIhZXZlbnQuaXNDbGlja2FibGVcIlxyXG4gICAgICAgICAgICAgICAgW3N0eWxlLmJhY2tncm91bmRDb2xvcl09XCJldmVudC5jb2xvci5wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cImV2ZW50Py5jc3NDbGFzc1wiXHJcbiAgICAgICAgICAgICAgICAobXdsQ2xpY2spPVwiZXZlbnRDbGlja2VkLmVtaXQoe2V2ZW50OiBldmVudH0pXCJcclxuICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cImhpZ2hsaWdodEV2ZW50KClcIlxyXG4gICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwidW5oaWdobGlnaHRFdmVudCgpXCI+XHJcbiAgICAgICAgICAgICAgICA8Y2FsZW5kYXItc2NoZWR1bGVyLWV2ZW50LXRpdGxlICpuZ0lmPVwiIWV2ZW50LnN0YXJ0c0JlZm9yZVNlZ21lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtldmVudF09XCJldmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmlldz1cIndlZWtcIj5cclxuICAgICAgICAgICAgICAgIDwvY2FsZW5kYXItc2NoZWR1bGVyLWV2ZW50LXRpdGxlPlxyXG4gICAgICAgICAgICAgICAgPGNhbGVuZGFyLXNjaGVkdWxlci1ldmVudC1jb250ZW50ICpuZ0lmPVwiIWV2ZW50LnN0YXJ0c0JlZm9yZVNlZ21lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtldmVudF09XCJldmVudFwiPlxyXG4gICAgICAgICAgICAgICAgPC9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtY29udGVudD5cclxuICAgICAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucyBbZXZlbnRdPVwiZXZlbnRcIiAqbmdJZj1cInNob3dBY3Rpb25zICYmIGV2ZW50LmlzQ2xpY2thYmxlICYmICFldmVudC5lbmRzQWZ0ZXJTZWdtZW50XCI+PC9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucz5cclxuICAgICAgICAgICAgICAgIDxjYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucyBbZXZlbnRdPVwiZXZlbnRcIiAqbmdJZj1cInNob3dBY3Rpb25zICYmIGV2ZW50LmlzRGlzYWJsZWQgJiYgIWV2ZW50LmVuZHNBZnRlclNlZ21lbnRcIj48L2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC1hY3Rpb25zPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZVxyXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJjdXN0b21UZW1wbGF0ZSB8fCBkZWZhdWx0VGVtcGxhdGVcIlxyXG4gICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie1xyXG4gICAgICAgICAgICAgICAgZGF5OiBkYXksXHJcbiAgICAgICAgICAgICAgICBob3VyOiBob3VyLFxyXG4gICAgICAgICAgICAgICAgc2VnbWVudDogc2VnbWVudCxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcclxuICAgICAgICAgICAgICAgIHRvb2x0aXBQbGFjZW1lbnQ6IHRvb2x0aXBQbGFjZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBzaG93QWN0aW9uczogc2hvd0FjdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBjdXN0b21UZW1wbGF0ZTogY3VzdG9tVGVtcGxhdGUsXHJcbiAgICAgICAgICAgICAgICBldmVudENsaWNrZWQ6IGV2ZW50Q2xpY2tlZFxyXG4gICAgICAgICAgICB9XCI+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgIGAsXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ2NhbC1zY2hlZHVsZXItZXZlbnQtY29udGFpbmVyJ1xyXG4gICAgfVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gICAgQElucHV0KCkgdGl0bGU6IHN0cmluZztcclxuXHJcbiAgICBASW5wdXQoKSBkYXk6IFNjaGVkdWxlclZpZXdEYXk7XHJcblxyXG4gICAgQElucHV0KCkgaG91cjogU2NoZWR1bGVyVmlld0hvdXI7XHJcblxyXG4gICAgQElucHV0KCkgc2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50O1xyXG5cclxuICAgIEBJbnB1dCgpIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50O1xyXG5cclxuICAgIEBJbnB1dCgpIHRvb2x0aXBQbGFjZW1lbnQ6IHN0cmluZztcclxuXHJcbiAgICBASW5wdXQoKSBzaG93QWN0aW9uczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgQElucHV0KCkgY3VzdG9tVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gICAgQE91dHB1dCgpIGV2ZW50Q2xpY2tlZDogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4gPSBuZXcgRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQgfT4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHsgICB9XHJcblxyXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VnbWVudC5oYXNCb3JkZXIgPSB0aGlzLmhvdXIuaGFzQm9yZGVyID0gIXRoaXMuZXZlbnQuZW5kc0FmdGVyU2VnbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy50aXRsZSA9IG1vbWVudCh0aGlzLmV2ZW50LnN0YXJ0KS5mb3JtYXQoJ2RkZGQgTCcpO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrRW5hYmxlU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrRW5hYmxlU3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VnbWVudC5pc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF5LmhvdXJzLmZvckVhY2goKGhvdXI6IFNjaGVkdWxlclZpZXdIb3VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBob3VyLnNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQ6IFNjaGVkdWxlclZpZXdIb3VyU2VnbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQuZXZlbnRzLmZpbHRlcigoZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpID0+IGV2ZW50LmlkID09PSB0aGlzLmV2ZW50LmlkICYmIGlzU2FtZURheShldmVudC5zdGFydCwgdGhpcy5ldmVudC5zdGFydCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChldmVudDogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXNEaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWdobGlnaHRFdmVudCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBsZXQgZXZlbnRzOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50W10gPSB0aGlzLmRheS5ob3Vyc1xyXG4gICAgICAgIC8vICAgIC5maWx0ZXIoaCA9PiBoLnNlZ21lbnRzLnNvbWUocyA9PiBzLmV2ZW50cy5zb21lKGUgPT4gZS5pZCA9PT0gdGhpcy5ldmVudC5pZCkpKVxyXG4gICAgICAgIC8vICAgIC5tYXAoaCA9PlxyXG4gICAgICAgIC8vICAgICAgICBoLnNlZ21lbnRzLm1hcChzID0+XHJcbiAgICAgICAgLy8gICAgICAgICAgICBzLmV2ZW50cy5maWx0ZXIoZSA9PiBlLmlkID09PSB0aGlzLmV2ZW50LmlkKVxyXG4gICAgICAgIC8vICAgICAgICApLnJlZHVjZSgocHJldiwgY3VycikgPT4gcHJldi5jb25jYXQoY3VycikpXHJcbiAgICAgICAgLy8gICAgKVxyXG4gICAgICAgIC8vICAgIC5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYuY29uY2F0KGN1cnIpKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXkuaG91cnMuZm9yRWFjaCgoaG91cjogU2NoZWR1bGVyVmlld0hvdXIpID0+IHtcclxuICAgICAgICAgICAgaG91ci5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnQuZXZlbnRzLmZpbHRlcigoZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpID0+IGV2ZW50LmlkID09PSB0aGlzLmV2ZW50LmlkICYmIGlzU2FtZURheShldmVudC5zdGFydCwgdGhpcy5ldmVudC5zdGFydCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmlzSG92ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVuaGlnaGxpZ2h0RXZlbnQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kYXkuaG91cnMuZm9yRWFjaCgoaG91cjogU2NoZWR1bGVyVmlld0hvdXIpID0+IHtcclxuICAgICAgICAgICAgaG91ci5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnQuZXZlbnRzLmZpbHRlcigoZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQpID0+IGV2ZW50LmlkID09PSB0aGlzLmV2ZW50LmlkICYmIGlzU2FtZURheShldmVudC5zdGFydCwgdGhpcy5ldmVudC5zdGFydCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmlzSG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIHNhbWVFdmVudEluUHJldmlvdXNIb3VyKGRheTogU2NoZWR1bGVyVmlld0RheSwgaG91cjogU2NoZWR1bGVyVmlld0hvdXIpOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50IHtcclxuICAgIC8vICAgIGxldCBob3VySW5kZXg6IG51bWJlciA9IGRheS5ob3Vycy5pbmRleE9mKGhvdXIpO1xyXG4gICAgLy8gICAgbGV0IHByZXZpb3VzSG91ciA9IGRheS5ob3Vyc1tob3VySW5kZXggLSAxXTtcclxuICAgIC8vICAgIGlmIChwcmV2aW91c0hvdXIpIHtcclxuICAgIC8vICAgICAgICBsZXQgcHJldmlvdXNTZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQgPSBwcmV2aW91c0hvdXIuc2VnbWVudHNbcHJldmlvdXNIb3VyLnNlZ21lbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgLy8gICAgICAgIHJldHVybiBwcmV2aW91c1NlZ21lbnQuZXZlbnRzW3ByZXZpb3VzU2VnbWVudC5ldmVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAvLyAgICB9XHJcbiAgICAvLyAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIHNhbWVFdmVudEluUHJldmlvdXNTZWdtZW50KHNlZ21lbnRJbmRleDogbnVtYmVyKTogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCB7XHJcbiAgICAvLyAgICBsZXQgcHJldmlvdXNTZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQgPSB0aGlzLmhvdXIuc2VnbWVudHNbc2VnbWVudEluZGV4IC0gMV07XHJcbiAgICAvLyAgICBpZiAocHJldmlvdXNTZWdtZW50KSB7XHJcbiAgICAvLyAgICAgICAgcmV0dXJuIHByZXZpb3VzU2VnbWVudC5ldmVudHNbcHJldmlvdXNTZWdtZW50LmV2ZW50cy5sZW5ndGggLSAxXTtcclxuICAgIC8vICAgIH1cclxuICAgIC8vICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHByaXZhdGUgc2FtZUV2ZW50SW5OZXh0SG91cigpOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50IHtcclxuICAgIC8vICAgIGxldCBob3VySW5kZXg6IG51bWJlciA9IHRoaXMuZGF5LmhvdXJzLmluZGV4T2YodGhpcy5ob3VyKTtcclxuICAgIC8vICAgIGxldCBuZXh0SG91cjogU2NoZWR1bGVyVmlld0hvdXIgPSB0aGlzLmRheS5ob3Vyc1tob3VySW5kZXggKyAxXTtcclxuICAgIC8vICAgIGlmIChuZXh0SG91cikge1xyXG4gICAgLy8gICAgICAgIGxldCBuZXh0U2VnbWVudDogU2NoZWR1bGVyVmlld0hvdXJTZWdtZW50ID0gbmV4dEhvdXIuc2VnbWVudHNbMF07XHJcbiAgICAvLyAgICAgICAgcmV0dXJuIG5leHRTZWdtZW50LmV2ZW50c1swXTtcclxuICAgIC8vICAgIH1cclxuICAgIC8vICAgIHJldHVybiBudWxsO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHByaXZhdGUgc2FtZUV2ZW50SW5OZXh0U2VnbWVudChzZWdtZW50SW5kZXg6IG51bWJlcik6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQge1xyXG4gICAgLy8gICAgbGV0IG5leHRTZWdtZW50OiBTY2hlZHVsZXJWaWV3SG91clNlZ21lbnQgPSB0aGlzLmhvdXIuc2VnbWVudHNbc2VnbWVudEluZGV4ICsgMV07XHJcbiAgICAvLyAgICBpZiAobmV4dFNlZ21lbnQpIHtcclxuICAgIC8vICAgICAgICByZXR1cm4gbmV4dFNlZ21lbnQuZXZlbnRzWzBdO1xyXG4gICAgLy8gICAgfVxyXG4gICAgLy8gICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQge1xyXG4gICAgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFxyXG59IGZyb20gJy4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtdGl0bGUnLFxyXG4gICAgdGVtcGxhdGU6IGBcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ldmVudC10aXRsZVwiXHJcbiAgICAgICAgICAgIFtpbm5lckhUTUxdPVwiZXZlbnQudGl0bGUgfCBzY2hlZHVsZXJFdmVudFRpdGxlOnZpZXc6ZXZlbnRcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZXZlbnQuc3RhdHVzXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJjYWwtc2NoZWR1bGVyLWV2ZW50LXN0YXR1c1wiXHJcbiAgICAgICAgICAgIFtjbGFzcy5va109XCJldmVudC5zdGF0dXMgPT09ICdvaydcIlxyXG4gICAgICAgICAgICBbY2xhc3Mud2FybmluZ109XCJldmVudC5zdGF0dXMgPT09ICd3YXJuaW5nJ1wiXHJcbiAgICAgICAgICAgIFtjbGFzcy5kYW5nZXJdPVwiZXZlbnQuc3RhdHVzID09PSAnZGFuZ2VyJ1wiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYCxcclxuICAgIGhvc3Q6IHtcclxuICAgICAgICAnY2xhc3MnOiAnY2FsLXNjaGVkdWxlci1ldmVudC10aXRsZS1jb250YWluZXInXHJcbiAgICB9XHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhclNjaGVkdWxlckV2ZW50VGl0bGVDb21wb25lbnQge1xyXG5cclxuICAgIEBJbnB1dCgpIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50O1xyXG5cclxuICAgIEBJbnB1dCgpIHZpZXc6IHN0cmluZztcclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50XHJcbn0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC1jb250ZW50JyxcclxuICAgIHRlbXBsYXRlOiBgXHJcbiAgICAgICAgPGRpdiAqbmdJZj1cImV2ZW50LmNvbnRlbnRcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImNhbC1zY2hlZHVsZXItZXZlbnQtY29udGVudFwiXHJcbiAgICAgICAgICAgIFtpbm5lckhUTUxdPVwiZXZlbnQuY29udGVudFwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYCxcclxuICAgIGhvc3Q6IHtcclxuICAgICAgICAnY2xhc3MnOiAnY2FsLXNjaGVkdWxlci1ldmVudC1jb250ZW50LWNvbnRhaW5lcidcclxuICAgIH1cclxufSlcclxuZXhwb3J0IGNsYXNzIENhbGVuZGFyU2NoZWR1bGVyRXZlbnRDb250ZW50Q29tcG9uZW50IHtcclxuXHJcbiAgICBASW5wdXQoKSBldmVudDogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudDtcclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50LFxyXG4gICAgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudEFjdGlvblxyXG59IGZyb20gJy4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gICAgc2VsZWN0b3I6ICdjYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucycsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiZXZlbnQuYWN0aW9uc1wiIGNsYXNzPVwiY2FsLXNjaGVkdWxlci1ldmVudC1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImNhbC1zY2hlZHVsZXItZXZlbnQtYWN0aW9uXCJcclxuICAgICAgICAgICAgICAgIGhyZWY9XCJqYXZhc2NyaXB0OjtcIlxyXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IGFjdGlvbiBvZiBhY3Rpb25zXCJcclxuICAgICAgICAgICAgICAgIChtd2xDbGljayk9XCJvbkFjdGlvbkNsaWNrKCRldmVudCwgYWN0aW9uLCBldmVudClcIlxyXG4gICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiYWN0aW9uLmNzc0NsYXNzXCJcclxuICAgICAgICAgICAgICAgIFtpbm5lckh0bWxdPVwiYWN0aW9uLmxhYmVsXCJcclxuICAgICAgICAgICAgICAgIFt0aXRsZV09XCJhY3Rpb24udGl0bGVcIj5cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgIGAsXHJcbiAgICBob3N0OiB7XHJcbiAgICAgICAgJ2NsYXNzJzogJ2NhbC1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucy1jb250YWluZXInXHJcbiAgICB9XHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDYWxlbmRhclNjaGVkdWxlckV2ZW50QWN0aW9uc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gICAgQElucHV0KCkgZXZlbnQ6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnQ7XHJcblxyXG4gICAgcHVibGljIGFjdGlvbnM6IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRBY3Rpb25bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSB0aGlzLmV2ZW50LmlzRGlzYWJsZWQgP1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50LmFjdGlvbnMuZmlsdGVyKChhOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50QWN0aW9uKSA9PiAhYS53aGVuIHx8IGEud2hlbiA9PT0gJ2Rpc2FibGVkJykgOlxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50LmFjdGlvbnMuZmlsdGVyKChhOiBDYWxlbmRhclNjaGVkdWxlckV2ZW50QWN0aW9uKSA9PiAhYS53aGVuIHx8IGEud2hlbiA9PT0gJ2VuYWJsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgb25BY3Rpb25DbGljayhtb3VzZUV2ZW50OiBNb3VzZUV2ZW50LCBhY3Rpb246IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRBY3Rpb24sIGV2ZW50OiBDYWxlbmRhclNjaGVkdWxlckV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhY3Rpb24ub25DbGljayhldmVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBDYWxlbmRhckV2ZW50VGl0bGVGb3JtYXR0ZXIgfSBmcm9tICdhbmd1bGFyLWNhbGVuZGFyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2hlZHVsZXJFdmVudFRpdGxlRm9ybWF0dGVyIGV4dGVuZHMgQ2FsZW5kYXJFdmVudFRpdGxlRm9ybWF0dGVyIHtcclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDYWxlbmRhclNjaGVkdWxlckV2ZW50IH0gZnJvbSAnLi4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2NoZWR1bGVyRXZlbnRUaXRsZUZvcm1hdHRlciB9IGZyb20gJy4uL2Zvcm1hdHRlcnMvc2NoZWR1bGVyLWV2ZW50LXRpdGxlLWZvcm1hdHRlci5wcm92aWRlcic7XHJcblxyXG5AUGlwZSh7XHJcbiAgbmFtZTogJ3NjaGVkdWxlckV2ZW50VGl0bGUnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBTY2hlZHVsZXJFdmVudFRpdGxlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc2NoZWR1bGVyRXZlbnRUaXRsZTogU2NoZWR1bGVyRXZlbnRUaXRsZUZvcm1hdHRlcikge31cclxuXHJcbiAgdHJhbnNmb3JtKHRpdGxlOiBzdHJpbmcsIHRpdGxlVHlwZTogc3RyaW5nLCBldmVudDogQ2FsZW5kYXJTY2hlZHVsZXJFdmVudCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZXJFdmVudFRpdGxlW3RpdGxlVHlwZV0oZXZlbnQpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDYWxlbmRhckRhdGVGb3JtYXR0ZXIsIERhdGVGb3JtYXR0ZXJQYXJhbXMgfSBmcm9tICdhbmd1bGFyLWNhbGVuZGFyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2hlZHVsZXJEYXRlRm9ybWF0dGVyIGV4dGVuZHMgQ2FsZW5kYXJEYXRlRm9ybWF0dGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB0aW1lIGZvcm1hdHRpbmcgZG93biB0aGUgbGVmdCBoYW5kIHNpZGUgb2YgdGhlIGRheSB2aWV3XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBkYXlWaWV3SG91cih7IGRhdGUsIGxvY2FsZSB9OiBEYXRlRm9ybWF0dGVyUGFyYW1zKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7IGhvdXI6ICdudW1lcmljJywgbWludXRlOiAnbnVtZXJpYycgfSkuZm9ybWF0KGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB3ZWVrVmlld1RpdGxlKHsgZGF0ZSwgbG9jYWxlIH06IERhdGVGb3JtYXR0ZXJQYXJhbXMpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIGh0dHA6Ly9nZW5lcmF0ZWRjb250ZW50Lm9yZy9wb3N0LzU5NDAzMTY4MDE2L2VzaW50bGFwaVxyXG4gICAgICAgIGNvbnN0IHllYXI6IHN0cmluZyA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSwgeyB5ZWFyOiAnbnVtZXJpYycgfSkuZm9ybWF0KGRhdGUpO1xyXG4gICAgICAgIGNvbnN0IG1vbnRoOiBzdHJpbmcgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIHsgbW9udGg6ICdzaG9ydCcgfSkuZm9ybWF0KGRhdGUpO1xyXG5cclxuICAgICAgICAvLyB2YXIgZmlyc3REYXk6IG51bWJlciA9IGRhdGUuZ2V0RGF0ZSgpIC0gZGF0ZS5nZXREYXkoKSArIDE7IC8vIEZpcnN0IGRheSBpcyB0aGUgZGF5IG9mIHRoZSBtb250aCAtIHRoZSBkYXkgb2YgdGhlIHdlZWtcclxuICAgICAgICBsZXQgZmlyc3REYXk6IG51bWJlciA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGlmIChkYXRlLmdldERheSgpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGZpcnN0RGF5ICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGFzdERheTogbnVtYmVyID0gZmlyc3REYXkgKyA2OyAvLyBsYXN0IGRheSBpcyB0aGUgZmlyc3QgZGF5ICsgNlxyXG5cclxuICAgICAgICBsZXQgZmlyc3REYXlNb250aDogc3RyaW5nID0gbW9udGg7XHJcbiAgICAgICAgbGV0IGxhc3REYXlNb250aDogc3RyaW5nID0gbW9udGg7XHJcblxyXG4gICAgICAgIGxldCBmaXJzdERheVllYXI6IHN0cmluZyA9IHllYXI7XHJcbiAgICAgICAgbGV0IGxhc3REYXlZZWFyOiBzdHJpbmcgPSB5ZWFyO1xyXG5cclxuICAgICAgICBpZiAoZmlyc3REYXkgPCAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZNb250aERhdGU6IERhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSAtIDEpO1xyXG4gICAgICAgICAgICBmaXJzdERheU1vbnRoID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7IG1vbnRoOiAnc2hvcnQnIH0pLmZvcm1hdChwcmV2TW9udGhEYXRlKTtcclxuICAgICAgICAgICAgY29uc3QgZGF5c0luUHJldk1vbnRoOiBudW1iZXIgPSB0aGlzLmRheXNJbk1vbnRoKHByZXZNb250aERhdGUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIGxldCBwcmV2TW9udGhEYXk6IG51bWJlciA9IGRheXNJblByZXZNb250aDtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IE1hdGguYWJzKGZpcnN0RGF5KTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2TW9udGhEYXktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaXJzdERheSA9IHByZXZNb250aERheTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZNb250aFllYXI6IHN0cmluZyA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSwgeyB5ZWFyOiAnbnVtZXJpYycgfSkuZm9ybWF0KHByZXZNb250aERhdGUpO1xyXG4gICAgICAgICAgICBpZiAoTnVtYmVyKHByZXZNb250aFllYXIpIDwgTnVtYmVyKHllYXIpKSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdERheVllYXIgPSBwcmV2TW9udGhZZWFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkYXlzSW5Nb250aDogbnVtYmVyID0gdGhpcy5kYXlzSW5Nb250aChkYXRlKTtcclxuICAgICAgICBpZiAobGFzdERheSA+IGRheXNJbk1vbnRoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRNb250aERhdGU6IERhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEpO1xyXG4gICAgICAgICAgICBsYXN0RGF5TW9udGggPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIHsgbW9udGg6ICdzaG9ydCcgfSkuZm9ybWF0KG5leHRNb250aERhdGUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIGxldCBuZXh0TW9udGhEYXk6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAobGFzdERheSAtIGRheXNJbk1vbnRoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0TW9udGhEYXkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0RGF5ID0gbmV4dE1vbnRoRGF5O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbmV4dE1vbnRoWWVhcjogc3RyaW5nID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7IHllYXI6ICdudW1lcmljJyB9KS5mb3JtYXQobmV4dE1vbnRoRGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIobmV4dE1vbnRoWWVhcikgPiBOdW1iZXIoeWVhcikpIHtcclxuICAgICAgICAgICAgICAgIGxhc3REYXlZZWFyID0gbmV4dE1vbnRoWWVhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGAke2ZpcnN0RGF5fWAgKyAoZmlyc3REYXlNb250aCAhPT0gbGFzdERheU1vbnRoID8gJyAnICsgZmlyc3REYXlNb250aCA6ICcnKSArXHJcbiAgICAgICAgICAgIChmaXJzdERheVllYXIgIT09IGxhc3REYXlZZWFyID8gJyAnICsgZmlyc3REYXlZZWFyIDogJycpICtcclxuICAgICAgICAgICAgYCAtICR7bGFzdERheX0gJHtsYXN0RGF5TW9udGh9ICR7bGFzdERheVllYXJ9YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRheXNJbk1vbnRoKGFueURhdGVJbk1vbnRoOiBEYXRlKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoYW55RGF0ZUluTW9udGguZ2V0RnVsbFllYXIoKSwgYW55RGF0ZUluTW9udGguZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gICAgc3RhcnRPZkRheSxcclxuICAgIHN0YXJ0T2ZXZWVrLFxyXG4gICAgc3RhcnRPZk1vbnRoLFxyXG4gICAgZW5kT2ZEYXksXHJcbiAgICBlbmRPZldlZWssXHJcbiAgICBlbmRPZk1vbnRoLFxyXG4gICAgYWRkRGF5cyxcclxuICAgIGFkZFdlZWtzLFxyXG4gICAgYWRkTW9udGhzLFxyXG4gICAgc3ViRGF5cyxcclxuICAgIHN1YldlZWtzLFxyXG4gICAgc3ViTW9udGhzXHJcbn0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2FsZW5kYXJQZXJpb2QgPSAnZGF5JyB8ICd3ZWVrJyB8ICdtb250aCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkUGVyaW9kKHBlcmlvZDogQ2FsZW5kYXJQZXJpb2QsIGRhdGU6IERhdGUsIGFtb3VudDogbnVtYmVyKTogRGF0ZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRheTogYWRkRGF5cyxcclxuICAgICAgICB3ZWVrOiBhZGRXZWVrcyxcclxuICAgICAgICBtb250aDogYWRkTW9udGhzXHJcbiAgICB9W3BlcmlvZF0oZGF0ZSwgYW1vdW50KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YlBlcmlvZChwZXJpb2Q6IENhbGVuZGFyUGVyaW9kLCBkYXRlOiBEYXRlLCBhbW91bnQ6IG51bWJlcik6IERhdGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXk6IHN1YkRheXMsXHJcbiAgICAgICAgd2Vlazogc3ViV2Vla3MsXHJcbiAgICAgICAgbW9udGg6IHN1Yk1vbnRoc1xyXG4gICAgfVtwZXJpb2RdKGRhdGUsIGFtb3VudCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mUGVyaW9kKHBlcmlvZDogQ2FsZW5kYXJQZXJpb2QsIGRhdGU6IERhdGUpOiBEYXRlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF5OiBzdGFydE9mRGF5LFxyXG4gICAgICAgIHdlZWs6IHN0YXJ0T2ZXZWVrLFxyXG4gICAgICAgIG1vbnRoOiBzdGFydE9mTW9udGhcclxuICAgIH1bcGVyaW9kXShkYXRlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mUGVyaW9kKHBlcmlvZDogQ2FsZW5kYXJQZXJpb2QsIGRhdGU6IERhdGUpOiBEYXRlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF5OiBlbmRPZkRheSxcclxuICAgICAgICB3ZWVrOiBlbmRPZldlZWssXHJcbiAgICAgICAgbW9udGg6IGVuZE9mTW9udGhcclxuICAgIH1bcGVyaW9kXShkYXRlKTtcclxufVxyXG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycywgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuXHJcbmltcG9ydCB7IENhbGVuZGFyTW9kdWxlIH0gZnJvbSAnYW5ndWxhci1jYWxlbmRhcic7XHJcbmltcG9ydCB7IENhbGVuZGFyU2NoZWR1bGVyVmlld0NvbXBvbmVudCB9IGZyb20gJy4vY2FsZW5kYXItc2NoZWR1bGVyLXZpZXcuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJTY2hlZHVsZXJDZWxsQ29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItY2VsbC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhclNjaGVkdWxlckhlYWRlckNvbXBvbmVudCB9IGZyb20gJy4vY2FsZW5kYXItc2NoZWR1bGVyLWhlYWRlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBDYWxlbmRhclNjaGVkdWxlckV2ZW50Q29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudFRpdGxlQ29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtdGl0bGUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudENvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2NhbGVuZGFyLXNjaGVkdWxlci1ldmVudC1jb250ZW50LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IENhbGVuZGFyU2NoZWR1bGVyRXZlbnRBY3Rpb25zQ29tcG9uZW50IH0gZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItZXZlbnQtYWN0aW9ucy5jb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgU2NoZWR1bGVyRXZlbnRUaXRsZVBpcGUgfSBmcm9tICcuL3BpcGVzL3NjaGVkdWxlci1ldmVudC10aXRsZS5waXBlJztcclxuaW1wb3J0IHsgU2NoZWR1bGVyRGF0ZUZvcm1hdHRlciB9IGZyb20gJy4vZm9ybWF0dGVycy9zY2hlZHVsZXItZGF0ZS1mb3JtYXR0ZXIucHJvdmlkZXInO1xyXG5pbXBvcnQgeyBTY2hlZHVsZXJFdmVudFRpdGxlRm9ybWF0dGVyIH0gZnJvbSAnLi9mb3JtYXR0ZXJzL3NjaGVkdWxlci1ldmVudC10aXRsZS1mb3JtYXR0ZXIucHJvdmlkZXInO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9jYWxlbmRhci1zY2hlZHVsZXItdmlldy5jb21wb25lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Zvcm1hdHRlcnMvc2NoZWR1bGVyLWRhdGUtZm9ybWF0dGVyLnByb3ZpZGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9mb3JtYXR0ZXJzL3NjaGVkdWxlci1ldmVudC10aXRsZS1mb3JtYXR0ZXIucHJvdmlkZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3BpcGVzL3NjaGVkdWxlci1ldmVudC10aXRsZS5waXBlJztcclxuZXhwb3J0ICogZnJvbSAnLi9jYWxlbmRhci11dGlscyc7XHJcblxyXG5pbXBvcnQgeyBTY2hlZHVsZXJDb25maWcgfSBmcm9tICcuL3NjaGVkdWxlci1jb25maWcnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNDSEVEVUxFUl9DT05GSUcgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1NjaGVkdWxlckNvbmZpZycpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByb3ZpZGVBdXRoQ29uZmlnKGNvbmZpZzogU2NoZWR1bGVyQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gbmV3IFNjaGVkdWxlckNvbmZpZyhjb25maWcpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIG1haW4gbW9kdWxlIG9mIHRoaXMgbGlicmFyeS4gRXhhbXBsZSB1c2FnZTpcclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiBpbXBvcnQgeyBDYWxlbmRlck1vZHVsZSB9IGZyb20gJ2FuZ3VsYXItY2FsZW5kYXInO1xyXG4gKiBpbXBvcnQgeyBTY2hlZHVsZXJNb2R1bGUgfSBmcm9tICdhbmd1bGFyLWNhbGVuZGFyLXNjaGVkdWxlcic7XHJcbiAqXHJcbiAqIEBOZ01vZHVsZSh7XHJcbiAqICAgaW1wb3J0czogW1xyXG4gKiAgICAgQ2FsZW5kZXJNb2R1bGUuZm9yUm9vdCgpLFxyXG4gKiAgICAgU2NoZWR1bGVyTW9kdWxlLmZvclJvb3QoeyBsb2NhbGU6ICdlbicsIGhlYWRlckRhdGVGb3JtYXQ6ICdkYXlzUmFuZ2UnIH0pXHJcbiAqICAgXVxyXG4gKiB9KVxyXG4gKiBjbGFzcyBNeU1vZHVsZSB7fVxyXG4gKiBgYGBcclxuICpcclxuICovXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgQ29tbW9uTW9kdWxlLFxyXG4gICAgQ2FsZW5kYXJNb2R1bGUuZm9yUm9vdCgpXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyVmlld0NvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyQ2VsbENvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVySGVhZGVyQ29tcG9uZW50LFxyXG4gICAgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudENvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyRXZlbnRUaXRsZUNvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyRXZlbnRDb250ZW50Q29tcG9uZW50LFxyXG4gICAgQ2FsZW5kYXJTY2hlZHVsZXJFdmVudEFjdGlvbnNDb21wb25lbnQsXHJcbiAgICBTY2hlZHVsZXJFdmVudFRpdGxlUGlwZVxyXG4gIF0sXHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBTY2hlZHVsZXJFdmVudFRpdGxlUGlwZSxcclxuICAgIFNjaGVkdWxlckV2ZW50VGl0bGVGb3JtYXR0ZXIsXHJcbiAgICBTY2hlZHVsZXJEYXRlRm9ybWF0dGVyXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlclZpZXdDb21wb25lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckNlbGxDb21wb25lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckhlYWRlckNvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyRXZlbnRDb21wb25lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50VGl0bGVDb21wb25lbnQsXHJcbiAgICBDYWxlbmRhclNjaGVkdWxlckV2ZW50Q29udGVudENvbXBvbmVudCxcclxuICAgIENhbGVuZGFyU2NoZWR1bGVyRXZlbnRBY3Rpb25zQ29tcG9uZW50XHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyTW9kdWxlIHtcclxuICBzdGF0aWMgZm9yUm9vdChjb25maWc/OiBTY2hlZHVsZXJDb25maWcpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmdNb2R1bGU6IFNjaGVkdWxlck1vZHVsZSxcclxuICAgICAgICBwcm92aWRlcnM6IFtcclxuICAgICAgICAgICAgeyBwcm92aWRlOiBTQ0hFRFVMRVJfQ09ORklHLCB1c2VWYWx1ZTogY29uZmlnIH0sXHJcbiAgICAgICAgICAgIHsgcHJvdmlkZTogU2NoZWR1bGVyQ29uZmlnLCB1c2VGYWN0b3J5OiBwcm92aWRlQXV0aENvbmZpZywgZGVwczogW1NDSEVEVUxFUl9DT05GSUddIH1cclxuICAgICAgICBdXHJcbiAgICB9O1xyXG59XHJcbn1cclxuIl0sIm5hbWVzIjpbIkluamVjdGFibGUiLCJFdmVudEVtaXR0ZXIiLCJzdGFydE9mRGF5Iiwic3RhcnRPZldlZWsiLCJhZGREYXlzIiwiZW5kT2ZEYXkiLCJlbmRPZldlZWsiLCJzZXREYXRlIiwic2V0TW9udGgiLCJzZXRZZWFyIiwiYWRkTWludXRlcyIsImlzU2FtZVNlY29uZCIsInN1YlNlY29uZHMiLCJpc1NhbWVEYXkiLCJnZXREYXkiLCJzZXRNaW51dGVzIiwic2V0SG91cnMiLCJzdGFydE9mTWludXRlIiwiYWRkSG91cnMiLCJDb21wb25lbnQiLCJWaWV3RW5jYXBzdWxhdGlvbiIsIkNoYW5nZURldGVjdG9yUmVmIiwiSW5qZWN0IiwiTE9DQUxFX0lEIiwiSW5wdXQiLCJPdXRwdXQiLCJtb21lbnQiLCJSZW5kZXJlcjIiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsIkNhbGVuZGFyRXZlbnRUaXRsZUZvcm1hdHRlciIsIlBpcGUiLCJDYWxlbmRhckRhdGVGb3JtYXR0ZXIiLCJhZGRXZWVrcyIsImFkZE1vbnRocyIsInN1YkRheXMiLCJzdWJXZWVrcyIsInN1Yk1vbnRocyIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJJbmplY3Rpb25Ub2tlbiIsIk5nTW9kdWxlIiwiQ29tbW9uTW9kdWxlIiwiQ2FsZW5kYXJNb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztRQVVJLHlCQUFZLE1BQTRCO1lBQTVCLHVCQUFBO2dCQUFBLFdBQTRCOzswQkFIdEIsSUFBSTtvQ0FDMEIsV0FBVzs7Ozs7OztZQUd2RCxhQUFnQixNQUFTLEVBQUUsWUFBZTtnQkFDdEMsT0FBTyxNQUFNLElBQUksTUFBTSxLQUFLLFNBQVMsR0FBRyxNQUFNLEdBQUcsWUFBWSxDQUFDO2FBQ2pFO1lBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFD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